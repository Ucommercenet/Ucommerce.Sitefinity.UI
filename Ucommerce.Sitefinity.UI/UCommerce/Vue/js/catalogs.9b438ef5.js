(function(e){function t(t){for(var i,s,a=t[0],c=t[1],l=t[2],d=0,f=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(i=!1)}i&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},r={catalogs:0},o=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=c;o.push([1,"chunk-vendors"]),n()})({"0285":function(e,t,n){},"0293":function(e,t,n){},"03c5":function(e,t,n){},"0560":function(e,t,n){},"08d2":function(e,t,n){"use strict";var i=n("1962"),r=n.n(i);r.a},"09a6":function(e,t,n){},"0ae8":function(e,t,n){},"0b0f":function(e,t,n){},1:function(e,t,n){e.exports=n("1d1a")},"110c":function(e,t,n){},"11a8":function(e,t,n){"use strict";var i=n("ed9b"),r=n.n(i);r.a},"11ab":function(e,t,n){},"138d":function(e,t,n){"use strict";var i=n("11ab"),r=n.n(i);r.a},1411:function(e,t,n){},"170a":function(e,t,n){},1736:function(e,t,n){},1962:function(e,t,n){},1999:function(e,t,n){},"1d1a":function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"Asterix",(function(){return Xe})),n.d(i,"ArrowBack",(function(){return tt})),n.d(i,"Check",(function(){return st})),n.d(i,"Spinner",(function(){return dt}));n("6b54"),n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},s=[],a=(n("8e6e"),n("456d"),n("ac6a"),n("bd86")),c=(n("96cf"),n("3b8d")),l={Umbraco:{"--selection-color":"","--header-bg":"","--header-border":"","--header-color":""},Sitecore:{"--selection-color":"","--header-bg":"","--header-border":"","--header-color":""},Kentico:{"--selection-color":"","--header-bg":"","--header-border":"","--header-color":""},Sitefinity:{"--selection-color":"","--header-bg":"","--header-border":"","--header-color":""}},u=n("2f62");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={name:"root-app",created:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("system");case 2:t=e.sent,n=t.data,this.applyCMSTheme(n.cms),this.setSystemInfo(n),this.setContentLanguage(n.languages.length?n.languages[0].cultureCode:null),this.setUiLanguage(n.currentCultureCode?n.currentCultureCode.substr(0,2):null),this.$i18n.locale=n.currentCultureCode.substr(0,2);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:f({},Object(u["e"])(["setSystemInfo","setContentLanguage","setUiLanguage"]),{applyCMSTheme:function(e){var t=document.documentElement,n=l[e];Object.keys(n).forEach((function(e){t.style.setProperty(e,n[e])}))}})},p=h,g=n("2877"),m=Object(g["a"])(p,o,s,!1,null,null,null),v=m.exports,b=n("8c4f"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"catalogs"},[n("beta-banner",[e._v("Welcome to the new catalogs app. It offers a new way of building, navigating and maintaining your catalog structure. The new app lives side-by-side with the old system for the time being. If you have feedback feel free to reach out to our product design team.")]),n("div",{staticClass:"catalogs-inner"},[n("section",{staticClass:"catalogs__builder-outer"},[n("cat-builder",{ref:"builder"})],1),n("details-loader",{on:{deleted:e.selectParent,resurrected:e.reload,change:e.detailsChanged}}),n("undo",{attrs:{undos:e.undos},on:{undo:e.executeUndo}}),e.errorMessage?n("form-feedback",{attrs:{type:"error"}},[e._v(e._s(e.errorMessage))]):e._e()],1)],1)},w=[],O=(n("7f7f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("store-selector"),n("section",{ref:"builder",staticClass:"cat-builder",on:{click:e.setFocus,keydown:[e.keydownHandler,function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.catCreationInputVisible=!1}]}},[n("div",{ref:"inner",staticClass:"cat-builder__inner",style:{transform:e.xPosition}},e._l(e.treeSections,(function(t,i){return n("tree-section",{key:i,ref:"section",refInFor:!0,attrs:{section:t,creationTriggerVisible:e.catCreationTriggerVisibleInSection===i,creationInputVisible:e.catCreationInputVisible},on:{nodeSelected:e.nodeSelected,nodeDropped:e.nodeDropped,needsMoreCats:e.loadMoreCats,beginHover:e.beginHoverSection,endHover:e.endHoverSection,requestShowInput:e.openCreateDialog}})})),1),n("div",{staticClass:"builder__scroll-outer",on:{mouseover:function(t){e.scrollHovered=!0},mouseleave:function(t){e.scrollHovered=!1}}},[n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showScroll,expression:"showScroll"}],ref:"scroller",staticClass:"builder__scroll-handle",class:{scrolling:e.scrolling,hovered:e.scrolling||e.scrollHovered},style:{width:e.scrollerWidth,transform:"translate3d("+e.scrollerPosition+"px, 0, 0)"}})])],1)]),e.catCreationInputVisible?n("create-node",{ref:"creator",attrs:{inputVisible:e.catCreationInputVisible,nodeType:e.catCreationPayload.nodeType,parentInfo:e.catCreationPayload.parentInfo},on:{nodeCreated:e.nodeCreated,requestHideInput:e.closeCreateDialog}}):e._e(),n("resize-handler",{style:{width:e.resizeWidth},attrs:{size:e.sectionHeight,minSize:180,isVertical:!0},on:{emitResult:function(t){return e.setSectionHeight(t)}}})],1)}),C=[],j=(n("7514"),n("20d6"),n("c5f6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.stores.length>1?n("div",{staticClass:"store-selector"},[n("v-popover",{attrs:{offset:18,width:"200px",open:e.popoverOpen},on:{hide:function(t){e.popoverOpen=!1},"apply-show":function(t){e.popoverOpen=!0}}},[n("div",{staticClass:"pill-selected pill tooltip-target"},[n("span",{staticClass:"text"},[e._v(e._s(e.selectedStoreLabel))]),n("arrow-down",{staticClass:"arrow-down-icon"})],1),n("template",{slot:"popover"},[n("div",{staticClass:"store-dropdown-container"},e._l(e.stores,(function(t){return n("div",{key:t.value,staticClass:"store-option",on:{click:function(n){e.setSelectedStore(t),e.popoverOpen=!1}}},[n("span",{staticClass:"text",attrs:{title:t.label}},[e._v(e._s(t.label))])])})),0)])],2)],1):e._e()}),x=[],S=function(e){return e.map((function(e){return{label:e.name,guid:e.guid}}))},_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[n("title",[e._v("Icon 6px / Arrow Down 2px / Dark@1x")]),n("desc",[e._v("Created with Sketch.")]),n("g",{attrs:{id:"Icon-6-/-Arrow-Down-2px-/-Dark","stroke-width":"1",fill:"none","fill-rule":"evenodd","stroke-linecap":"round","stroke-linejoin":"round"}},[n("path",{attrs:{d:"M8.7014218,1.27272727 L8.7014218,6.72727273 M8.68720379,1.27272727 L3,1.27272727",id:"Line-3","stroke-width":"2",transform:"translate(6.000000, 4.000000) rotate(-225.000000) translate(-6.000000, -4.000000) "}})])])},k=[],P={},I=Object(g["a"])(P,_,k,!1,null,null,null),D=I.exports;function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N,T,$,M=Object(u["a"])("builder"),B=M.mapGetters,R=M.mapMutations,H={name:"store-selector",components:{ArrowDown:D},data:function(){return{popoverOpen:!1}},computed:L({},B(["selectedStore","stores"]),{selectedStoreLabel:function(){var e=this;return this.selectedStore?this.stores.find((function(t){return t.guid===e.selectedStore})).label:this.$t("global.selectNoOptionsPlaceholder")}}),methods:L({},R(["setSelectedStore","setStores"]),{getStores:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("/stores");case 2:if(t=e.sent,n=S(t.data),this.setStores(n),this.stores.length){e.next=7;break}return e.abrupt("return");case 7:this.setSelectedStore(this.stores[0]);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}),created:function(){this.getStores()}},F=H,G=(n("b19a"),Object(g["a"])(F,j,x,!1,null,null,null)),z=G.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"section",staticClass:"cat-builder__section",style:{width:e.sectionWidth+"px",height:e.sectionHeight+"px"},on:{dragenter:e.sectionEnter,mouseenter:e.mouseenterHandler,mouseleave:e.mouseleaveHandler}},[n("simplebar",{style:{height:"100%"}},[n("div",{ref:"body",staticClass:"section__body",on:{dragover:e.bodyDragover,drop:e.bodyDrop,scroll:e.checkIfMoreItemsNeeded}},[e._l(e.section.categories,(function(t,i){return[n("drop-target",{key:i,attrs:{targetIndex:i,sortOrder:t.sortOrder,visibleIndex:e.visibleTargetIndex,sectionGuid:e.section.guid},on:{dropped:e.targetDrop}}),n("tree-node",{key:t.guid,ref:"node",refInFor:!0,attrs:{cat:t,"parent-guid":e.section.guid,parentName:e.section.name,"cat-index":i},on:{selected:function(t){return e.$emit("nodeSelected",t)},nodeDropped:e.nodeDropped}})]})),n("drop-target",{attrs:{targetIndex:99999,sortOrder:0,visibleIndex:e.visibleTargetIndex,sectionGuid:e.section.guid},on:{dropped:e.bodyDrop}}),n("div",{ref:"remaining",staticClass:"section__remaining-items-placeholder",style:e.remainingItemsStyle})],2)]),n("transition",{attrs:{name:"fade"}},[n("section",{staticClass:"create-container",class:e.getCreateTriggerClassObject},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showCreateTriggerComp&&!e.creationInputVisible,expression:"showCreateTriggerComp && !creationInputVisible"}],staticClass:"add-container",on:{click:function(t){return t.preventDefault(),e.$emit("requestShowInput",e.payload)}}},[n("add-icon")],1)])])],1)},W=[],U="productCatalog",V="productCategory",q="store",Y="product",K=(N={},Object(a["a"])(N,U,"catalogs"),Object(a["a"])(N,V,"categories"),Object(a["a"])(N,q,"stores"),Object(a["a"])(N,Y,"products"),N),X=(T={},Object(a["a"])(T,U,"13bc5d9d-e201-4760-8ca4-2f30dfd1e422"),Object(a["a"])(T,V,"58505939-d974-4985-bd9d-89ac2abf8b14"),Object(a["a"])(T,q,null),Object(a["a"])(T,Y,null),T),J=($={},Object(a["a"])($,U,"catalog"),Object(a["a"])($,V,"category"),Object(a["a"])($,Y,"product"),$),Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"node",staticClass:"cat-builder__node",class:e.classes,attrs:{tabindex:"0",id:e.cat.guid,draggable:"true"},on:{click:e.clickHandler,dragstart:e.dragstartHandler,dragend:e.dragendHandler,dragenter:e.dragenterHandler,dragleave:e.dragleaveHandler,dragover:e.dragoverHandler,drop:function(t){return t.preventDefault(),t.stopPropagation(),e.dropHandler(t)}}},[n("span",{directives:[{name:"truncate",rawName:"v-truncate"}]},[e._v(e._s(e.cat.name))]),n("arrow-forward",{directives:[{name:"show",rawName:"v-show",value:e.cat.hasChildren,expression:"cat.hasChildren"}]})],1)},Q=[],ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"12px",height:"12px",viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[n("g",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"none","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}},[n("path",{attrs:{d:"M6.7014218,3.27272727 L6.7014218,8.72727273 M6.68720379,3.27272727 L1,3.27272727",id:"Line-3",stroke:"#1C254F","stroke-width":"2",transform:"translate(4.000000, 6.000000) rotate(-315.000000) translate(-4.000000, -6.000000) "}})])])},te=[],ne={},ie=Object(g["a"])(ne,ee,te,!1,null,null,null),re=ie.exports;function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=Object(u["a"])("builder"),ce=ae.mapGetters,le=ae.mapMutations,ue={name:"tree-node",data:function(){return{hoverMsBeforeLoad:1e3,dragOverTimestamp:null,emitTypes:{selected:"selected",changeSection:"changeSection"},isDropzone:!1,dragClone:null}},props:{cat:Object,catIndex:Number,parentGuid:String,parentName:String},computed:se({},ce(["dragInfo","treeSections"]),{classes:function(){return{selected:this.cat.selected,displaying:this.cat.displaying,dragging:this.dragging,dropzone:this.isDropzone}},dragging:function(){return this.dragInfo.dragging&&this.dragInfo.node.guid===this.cat.guid},height:function(){return this.$el.clientHeight},canDrop:function(){return!!this.dragInfo.dragging&&(this.cat.guid!==this.dragInfo.node.guid&&(this.dragInfo.node.nodeType!==U&&this.dragInfo.node.guid!==this.parentGuid))}}),components:{ArrowForward:re},methods:se({},le(["setDragInfo","endDrag"]),{clickHandler:function(e){e.stopPropagation(),this.setFocus(),this.select()},setFocus:function(){this.$el.focus()},dragstartHandler:function(e){var t={dragging:!0,node:this.cat,catIndex:this.catIndex,parentGuid:this.parentGuid,currentSectionGuid:this.parentGuid};this.setDragInfo(t),this.dragClone=this.$el.cloneNode(!0),this.dragClone.classList.add("drag-clone"),this.dragClone.id="",document.body.appendChild(this.dragClone),e.dataTransfer.setData("text","anything"),e.dataTransfer.effectAllowed="move",e.dataTransfer.setDragImage(this.dragClone,e.offsetX,e.offsetY)},dragendHandler:function(){this.endDrag(),document.body.removeChild(this.dragClone),this.dragClone=null},dragenterHandler:function(e){this.canDrop&&(this.dragOverTimestamp=e.timeStamp,this.isDropzone=!0)},dragleaveHandler:function(){this.isDropzone=!1,this.dragOverTimestamp=null},dragoverHandler:function(e){this.cat.guid!==this.dragInfo.node.guid&&this.canDrop&&(e.preventDefault(),e.dataTransfer.dropEffect="move",window.performance.now()-this.dragOverTimestamp>this.hoverMsBeforeLoad&&(this.dragOverTimestamp=e.timeStamp,this.select()))},dropHandler:function(e){if(this.isDropzone=!1,this.canDrop){var t={parentGuid:this.cat.guid,sortOrder:null,newIndex:-1,catalogGuid:this.cat.nodeType===U?this.cat.guid:void 0,name:this.cat.name||this.parentName};this.$emit("nodeDropped",t)}},emitDragEvent:function(e,t){this.lastDragEmit!==e&&(this.lastDragEmit=e,this.$emit(e,t))},select:function(){this.$emit(this.emitTypes.selected,{parentGuid:this.parentGuid,cat:this.cat})}})},de=ue,fe=(n("905f"),Object(g["a"])(de,Z,Q,!1,null,"30ded8d7",null)),he=fe.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"target"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"section__drop-target",on:{drop:function(t){return t.preventDefault(),t.stopPropagation(),e.drop(t)},dragover:function(t){return t.preventDefault(),e.dragover(t)}}})])},ge=[];function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=Object(u["a"])("builder"),ye=be.mapGetters,we={name:"drop-target",props:{sortOrder:Number,targetIndex:Number,visibleIndex:Number,sectionGuid:String},computed:ve({},ye(["dragInfo"]),{show:function(){return this.targetIndex===this.visibleIndex&&this.dragInfo.currentSectionGuid===this.sectionGuid}}),methods:{drop:function(){this.$emit("dropped",this.sortOrder)},dragover:function(e){e.dataTransfer.dropEffect="move"}}},Oe=we,Ce=(n("23fb"),Object(g["a"])(Oe,pe,ge,!1,null,null,null)),je=Ce.exports,xe=n("8d3b"),Se=(n("f138"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"12px",height:"12px",viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[n("g",{attrs:{id:"Icon-12-/-Add-1px-/-Dark",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd","stroke-linecap":"round","stroke-linejoin":"round"}},[n("path",{attrs:{d:"M6,1 L6,11 M11,6 L1,6",id:"Line-3",stroke:"#1C254F","stroke-width":"1",transform:"translate(6.000000, 6.000000) rotate(-360.000000) translate(-6.000000, -6.000000)"}})])])}),_e=[],ke={},Pe=Object(g["a"])(ke,Se,_e,!1,null,null,null),Ie=Pe.exports;function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=Object(u["a"])("builder"),Ne=Le.mapGetters,Te=Le.mapMutations,$e={name:"tree-section",data:function(){return{headerEnterTimer:null,visibleTargetIndex:-1}},props:{section:Object,creationTriggerVisible:Boolean,creationInputVisible:Boolean},computed:Ee({},Ne(["sectionWidth","sectionHeight","dragInfo","selectedCatalog","displayedNodePosition"]),{getCreateTriggerClassObject:function(){return{empty:0===this.section.categories.length}},remainingItemsStyle:function(){var e=this.section.categories.length&&this.section.categoriesCount&&!this.section.endOfList?35:0,t=e*(this.section.categoriesCount-this.section.categories.length);return{height:"".concat(t,"px")}},canDrop:function(){return!!this.dragInfo.dragging&&this.dragInfo.node.guid!==this.section.guid},isSectionOfOrigin:function(){return this.dragInfo.parentGuid===this.section.guid},draggingCategoryIntoCatalogSection:function(){if(this.dragInfo.dragging)return 0===this.section.position&&this.dragInfo.node.nodeType===V},sectionNodeType:function(){return 0===this.section.position?U:V},createPayload:function(){var e={};return this.selectedCatalog?(this.sectionNodeType!==q&&(e.parentCategoryId=this.section.guid===this.selectedCatalog.guid?null:this.section.guid,e.productCatalogId=this.selectedCatalog.guid,e.parentGuid=this.section.guid,e.parentName=this.section.name),e):e},payload:function(){return{nodeType:this.sectionNodeType,parentInfo:this.createPayload}},showCreateTriggerComp:function(){return this.creationTriggerVisible&&!this.dragInfo.dragging}}),methods:Ee({},Te(["setDragSectionGuid"]),{mouseenterHandler:function(){this.$emit("beginHover",this.section)},mouseleaveHandler:function(){this.$emit("endHover",this.section)},sectionEnter:function(){this.setDragSectionGuid(this.section.guid)},bodyDragover:function(e){if(this.canDrop)if(e.preventDefault(),e.dataTransfer.dropEffect="move",this.draggingCategoryIntoCatalogSection)this.updateVisibleTargetIndex(-1);else if(!e.target.classList.contains("section__drop-target"))if(e.target.classList.contains("section__body"))this.updateVisibleTargetIndex(99999);else if(e.target.id!==this.dragInfo.node.guid)if(e.offsetY<9||e.offsetY>26){var t=e.target.offsetTop+e.offsetY;this.updateVisibleTargetIndex(Math.round(t/35))}else this.updateVisibleTargetIndex(-1);else this.updateVisibleTargetIndex(-1)},updateVisibleTargetIndex:function(e){e!==this.visibleTargetIndex&&(this.visibleTargetIndex=e)},bodyDrop:function(e){if(this.canDrop&&!this.draggingCategoryIntoCatalogSection){e&&e.preventDefault();var t=this.section.categories.length,n=t?this.section.categories[t-1].sortOrder+1:0;this.dropNode(n,t)}},targetDrop:function(e){var t=this.visibleTargetIndex;this.isSectionOfOrigin&&this.dragInfo.catIndex<this.visibleTargetIndex&&(t=this.visibleTargetIndex-1),this.dropNode(e,t)},dropNode:function(e,t){var n={parentGuid:this.section.guid,sortOrder:e,newIndex:t,name:this.section.name};this.nodeDropped(n)},nodeDropped:function(e){this.$emit("nodeDropped",e),this.updateVisibleTargetIndex(-1)},resetScroll:function(){this.$refs.body.scrollTop=0},getScrollPosition:function(){return this.$refs.body.scrollTop},setScrollPosition:function(e){this.$refs.body.scrollTop=e},checkIfMoreItemsNeeded:function(){var e=this.$refs.remaining,t=this.$refs.body;if(e&&t){var n=e.getBoundingClientRect().top,i=n<2*t.offsetHeight;i&&this.$emit("needsMoreCats",this.section)}}}),components:{TreeNode:he,DropTarget:je,simplebar:xe["a"],AddIcon:Ie}},Me=$e,Be=(n("a574"),Object(g["a"])(Me,A,W,!1,null,"630ab4ba",null)),Re=Be.exports,He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"create-container",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.requestHideInput(t)}}},[n("div",{staticClass:"create-overlay",on:{click:function(t){return t.preventDefault(),e.requestHideInput(t)}}}),n("div",{staticClass:"create-dialog",on:{click:function(e){e.stopPropagation()}}},[n("header",[e._v(e._s(e.title))]),n("form",{staticClass:"create-form",on:{submit:function(t){return t.preventDefault(),e.createNewNode(t)}}},[n("uc-text-input",{ref:"input",attrs:{placeholder:e.placeholder,value:e.newName,label:e.label},on:{input:e.updateName}}),n("div",{staticClass:"create-error"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage.length,expression:"errorMessage.length"}]},[e._v(e._s(e.errorMessage))])]),n("div",{staticClass:"create-actions"},[n("uc-button",{attrs:{text:e.createLabel,type:"submit",primary:!0}}),n("uc-button",{attrs:{text:this.$t("global.cancel"),primary:!1},on:{click:e.requestHideInput}})],1)],1)])])},Fe=[],Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-text-input",class:[e.readonly?"readonly":"",e.focusOn?"active":"","big"===e.size?"big":""]},[n("div",{staticClass:"input-field-container"},[n("label",{on:{click:function(t){return e.setFocusAndFocus()}}},[e._v(e._s(e.label))]),n("div",{staticClass:"input-field-wrapper"},[n("div",{staticClass:"feedback-icon-wrap"},[n("div",{staticClass:"feedback-icon"},[n("uc-icon",{directives:[{name:"show",rawName:"v-show",value:!this.isError&&"Active"===e.condition,expression:"!this.isError && condition === 'Active'"}],attrs:{icon:"ArrowBack"}}),n("uc-icon",{directives:[{name:"show",rawName:"v-show",value:this.isError,expression:"this.isError"}],attrs:{icon:"Asterix"}})],1)]),n("input",{ref:"field",attrs:{type:"text",disabled:e.readonly},domProps:{value:e.value},on:{input:e.emitValue,focus:e.setFocus,blur:e.setBlur}})])])])},ze=[],Ae=function(){return"id"+Math.random().toString(36).slice(2,9)},We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon-wrap"},[n(e.icon,{tag:"component"})],1)},Ue=[],Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"24px",height:"24px",viewBox:"0 0 24 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[n("g",{attrs:{id:"Symbols",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd","stroke-linecap":"round"}},[n("g",{attrs:{id:"Icon-24-/-Error-1px",stroke:"#DD003B"}},[n("path",{attrs:{d:"M17.6568542,12 L6.34314575,12 M12,6.34314575 L12,17.6568542 M16,16 L8,8 M16,8 L8,16",id:"Line-6-Copy-2"}})])])])},qe=[],Ye={},Ke=Object(g["a"])(Ye,Ve,qe,!1,null,null,null),Xe=Ke.exports,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"24px",height:"24px",viewBox:"0 0 24 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[n("g",{attrs:{id:"Symbols",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd","stroke-linecap":"round","stroke-linejoin":"round"}},[n("g",{attrs:{id:"Icon-24-/-Arrow-Back-1px-/-Blue",stroke:"#3C43BF"}},[n("path",{attrs:{d:"M5,12 L19,12",id:"Line"}}),n("path",{attrs:{d:"M12.5579942,8.74860748 L12.5579942,15.7533009 M12.5579942,8.74860748 L5.55330086,8.74860748",id:"Line-3",transform:"translate(9.303301, 12.003301) rotate(-135.000000) translate(-9.303301, -12.003301) "}})])])])},Ze=[],Qe={},et=Object(g["a"])(Qe,Je,Ze,!1,null,null,null),tt=et.exports,nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"24px",height:"24px",viewBox:"0 0 24 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[n("g",{attrs:{id:"Symbols",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd","stroke-linecap":"round","stroke-linejoin":"round"}},[n("g",{attrs:{id:"Input-/-Default-/-Filled",transform:"translate(-716.000000, -18.000000)",stroke:"#1C254F"}},[n("g",{attrs:{id:"Input-/-Default-/-Idle",transform:"translate(0.000000, -5.000000)"}},[n("g",{attrs:{id:"Icon-24-/-Check-1px",transform:"translate(716.000000, 23.000000)"}},[n("polyline",{attrs:{id:"Path-3",points:"6 12.0784535 10.6953388 17 19 6"}})])])])])])},it=[],rt={},ot=Object(g["a"])(rt,nt,it,!1,null,null,null),st=ot.exports,at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"29",height:"29",viewBox:"0 -30 88 88",xmlns:"http://www.w3.org/2000/svg"}},[n("g",{attrs:{fill:"","fill-rule":"evenodd"}},[n("g",{attrs:{transform:"translate(2 1)",stroke:"#000","stroke-width":"1.5"}},[n("circle",{attrs:{cx:"42.601",cy:"11.462",r:"5","fill-opacity":"1",fill:"#000"}},[n("animate",{attrs:{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"1;0;0;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"}})]),n("circle",{attrs:{cx:"49.063",cy:"27.063",r:"5","fill-opacity":"0",fill:"#000"}},[n("animate",{attrs:{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;1;0;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"}})]),n("circle",{attrs:{cx:"42.601",cy:"42.663",r:"5","fill-opacity":"0",fill:"#000"}},[n("animate",{attrs:{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;1;0;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"}})]),n("circle",{attrs:{cx:"27",cy:"49.125",r:"5","fill-opacity":"0",fill:"#000"}},[n("animate",{attrs:{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;1;0;0;0;0",calcMode:"linear",repeatCount:"indefinite"}})]),n("circle",{attrs:{cx:"11.399",cy:"42.663",r:"5","fill-opacity":"0",fill:"#000"}},[n("animate",{attrs:{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;1;0;0;0",calcMode:"linear",repeatCount:"indefinite"}})]),n("circle",{attrs:{cx:"4.938",cy:"27.063",r:"5","fill-opacity":"0",fill:"#000"}},[n("animate",{attrs:{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;0;1;0;0",calcMode:"linear",repeatCount:"indefinite"}})]),n("circle",{attrs:{cx:"11.399",cy:"11.462",r:"5","fill-opacity":"0",fill:"#000"}},[n("animate",{attrs:{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;0;0;1;0",calcMode:"linear",repeatCount:"indefinite"}})]),n("circle",{attrs:{cx:"27",cy:"5",r:"5","fill-opacity":"0",fill:"#000"}},[n("animate",{attrs:{attributeName:"fill-opacity",begin:"0s",dur:"1.3s",values:"0;0;0;0;0;0;0;1",calcMode:"linear",repeatCount:"indefinite"}})])])])])},ct=[],lt={},ut=Object(g["a"])(lt,at,ct,!1,null,null,null),dt=ut.exports;function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt={name:"ucIcon",components:ht({},i),props:{icon:{type:String,required:!0}}},gt=pt,mt=(n("2821"),Object(g["a"])(gt,We,Ue,!1,null,"70a2e6d2",null)),vt=mt.exports,bt={name:"uc-text-input",data:function(){return{id:null,focusOn:!1,inputValue:"",condition:"Idle"}},props:{label:String,placeholder:String,value:String,readonly:Boolean,isError:{type:Boolean,default:function(){return!1}},error:String,tooltip:String,size:{type:String,default:function(){return"small"}}},components:{ucIcon:vt},methods:{getFocus:function(){return""!==this.value||""!==this.inputValue||this.isError},setFocus:function(){this.readonly?this.focusOn=this.getFocus():(this.focusOn=!0,this.condition="Active")},setBlur:function(e){this.focusOn=""!==this.inputValue||this.isError,this.condition=""===this.inputValue?"Idle":"Filled",this.$emit("blur",e)},emitValue:function(e){this.$emit("input",e.target.value),this.inputValue=e.target.value},setFocusAndFocus:function(){this.focusOn=!0,this.$refs.field.focus()},setActiveFocus:function(){var e=this,t=setTimeout((function(){e.setFocusAndFocus(),clearTimeout(t)}),50)}},created:function(){this.id=Ae(),this.inputValue=this.value},mounted:function(){this.focusOn=this.getFocus()}},yt=bt,wt=(n("c025"),Object(g["a"])(yt,Ge,ze,!1,null,"83e8cd9a",null)),Ot=wt.exports,Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"uc-button",class:{primary:e.primary},attrs:{type:e.type},on:{click:e.clicked}},[e._v(e._s(e.text))])},jt=[],xt={name:"uc-button",props:{text:String,disabled:Boolean,primary:Boolean,type:String},methods:{clicked:function(e){this.$emit("click",e)}}},St=xt,_t=(n("43fca"),Object(g["a"])(St,Ct,jt,!1,null,"3f1cc468",null)),kt=_t.exports;function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dt=Object(u["a"])("builder"),Et=Dt.mapGetters,Lt={name:"create-node",data:function(){return{newName:"",errorMessage:"",label:""}},props:{nodeType:String,parentInfo:Object,inputVisible:Boolean},mounted:function(){this.focusInput()},components:{UcTextInput:Ot,UcButton:kt},computed:It({},Et(["selectedStore"]),{title:function(){return"".concat(this.$t("createNode.title",{nodeType:this.nodeTypeSingularCapitalized}))},nodeTypeSingularCapitalized:function(){return"".concat(J[this.nodeType].substr(0,1).toUpperCase()+J[this.nodeType].substr(1))},placeholder:function(){return"".concat(this.nodeTypeSingularCapitalized," ").concat(this.$t("global.name"))},createLabel:function(){return"".concat(this.$t("global.create")," ").concat(this.nodeTypeSingularCapitalized)}}),methods:{requestShowInput:function(){this.$emit("requestShowInput")},requestHideInput:function(){this.$emit("requestHideInput")},focusInput:function(){this.$refs.input.setActiveFocus()},updateName:function(e){this.newName=e,this.errorMessage=""},createNewNode:function(){var e=this;if(!this.newName.trim().length)return this.errorMessage="".concat(this.$t("createNode.emptyNotAllowed",{field:this.placeholder})),void this.focusInput();var t=It({},this.parentInfo,{sortOrder:0,name:this.newName});this.nodeType===U&&(t.storeGuid=this.selectedStore),this.axios.post("".concat(K[this.nodeType]),t).then((function(t){e.newName="",e.$emit("nodeCreated",{isCatalog:e.nodeType===U,parentGuid:e.parentInfo.parentGuid})})).catch((function(t){400===t.response.status&&(e.errorMessage=t.response.data.Message),e.focusInput()}))}}},Nt=Lt,Tt=(n("7f0b"),Object(g["a"])(Nt,He,Fe,!1,null,"6a049f3f",null)),$t=Tt.exports,Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"resize-outer",class:{vertical:e.vertical,horizontal:e.horizontal}},[n("div",{staticClass:"resize-inner",class:{vertical:e.vertical,horizontal:e.horizontal},style:{cursor:e.cursor},on:{mousedown:e.onMousedown}})])},Bt=[],Rt={name:"resize-handler",props:{size:{type:Number,required:!0},minSize:{type:Number,required:!0},isVertical:{type:Boolean,required:!0}},data:function(){return{startPos:null}},computed:{cursor:function(){return this.isVertical?"n-resize":"w-resize"},vertical:function(){return this.isVertical},horizontal:function(){return!this.isVertical}},methods:{getPos:function(e){return this.isVertical?e.clientY:e.clientX},onMousedown:function(e){e.preventDefault();var t=this.getPos(e);this.startPos=t,window.document.body.style.cursor=this.cursor,window.addEventListener("mousemove",this.onMousemove),window.addEventListener("mouseup",this.onMouseup),this.$emit("resizeMousedown")},onMousemove:function(e){var t=this.getPos(e),n=t-this.startPos;this.startPos=t,this.size<this.minSize&&n<0||(this.$emit("emitResult",this.size+n),this.$emit("emitDelta",n))},onMouseup:function(){window.document.body.style.cursor="default",window.removeEventListener("mousemove",this.onMousemove),window.removeEventListener("mouseup",this.onMouseup),this.$emit("resizeMouseup")}}},Ht=Rt,Ft=(n("5ab8"),Object(g["a"])(Ht,Mt,Bt,!1,null,"f99ab896",null)),Gt=Ft.exports,zt=(n("55dd"),function(e){var t=e.map((function(e){return e.selected=!1,e.displaying=!1,e}));return t.sort((function(e,t){return e.sortOrder-t.sortOrder}))});function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ut=Object(u["a"])("builder"),Vt={name:"catalog-builder",components:{StoreSelector:z,TreeSection:Re,CreateNode:$t,ResizeHandler:Gt},data:function(){return{builderWidth:0,visibleSections:0,slidePosition:0,sectionClicked:0,scrolling:!1,scrollInit:{mouseX:0,scrollerPos:0,slidePos:0},scrollMove:0,scrollHovered:!1,isLoadingMoreItems:!1,leafIndex:null,catCreationTriggerVisibleInSection:Number,catCreationInputVisible:!1,catCreationPayload:null}},mounted:function(){var e=this;this.setWidth(),window.addEventListener("resize",(function(){e.setWidth(),e.slideSections()})),this.setupScrollHandler()},computed:Wt({},Ut.mapGetters(["selectedStore","treeSections","sectionWidth","sectionHeight","displayedNode","displayedNodePosition","dragInfo"]),{},Object(u["d"])(["contentLanguage"]),{xPosition:function(){return"translate3d(-".concat(this.slidePosition*(this.sectionWidth+10),"px, 0, 0)")},sectionsInTree:function(){return this.treeSections.length},showScroll:function(){return this.sectionsInTree*this.sectionWidth>this.builderWidth+50},scrollerWidth:function(){return"calc(".concat(this.scrollerWidthPercent,"% - 14px")},scrollerWidthPercent:function(){return this.builderWidth/(this.sectionsInTree*this.sectionWidth)*100},scrollerWhiteSpace:function(){return this.builderWidth-this.scrollerWidthPercent*this.builderWidth/100},scrollerPageSize:function(){return this.scrollerWhiteSpace/(this.sectionsInTree-this.visibleSections)},scrollerPosition:function(){if(!this.scrolling){var e=this.scrollerPageSize*this.slidePosition;return e}return this.scrollMove},resizeWidth:function(){var e=this.treeSections.length,t=e<4?250*e:1e3;return"".concat(t,"px")}}),watch:{selectedStore:function(){this.getCatalogs()},catCreationInputVisible:function(){this.catCreationInputVisible||this.setFocus()}},methods:Wt({},Ut.mapMutations(["setSectionsInTree","setSectionWidth","setSectionHeight","addItemsToSectionInTree","selectNode","resetDisplayedNode","moveDraggedNode","setRecentDrop"]),{},Object(u["e"])(["addUndo","clearUndos"]),{},Object(u["c"])(["moveCat"]),{loadMoreCats:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.endOfList){e.next=2;break}return e.abrupt("return");case 2:if(!this.isLoadingMoreItems){e.next=4;break}return e.abrupt("return");case 4:if(this.isLoadingMoreItems=!0,e.prev=5,0!==t.position){e.next=11;break}return e.next=9,this.getMoreCatalogs(t);case 9:e.next=13;break;case 11:return e.next=13,this.getMoreCategories(t);case 13:return e.prev=13,this.isLoadingMoreItems=!1,e.finish(13);case 16:n=this.$refs.section[t.position],n&&n.checkIfMoreItemsNeeded.bind(n)();case 18:case"end":return e.stop()}}),e,this,[[5,,13,16]])})));function t(t){return e.apply(this,arguments)}return t}(),getCatalogs:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=25,e.next=3,this.axios.get("/stores/".concat(this.selectedStore,"/catalogs?limit=").concat(t));case 3:if(n=e.sent,i=zt(n.data),r={position:0,cat:{name:this.$t("global.catalogs"),nodeType:"store",guid:this.selectedStore},elements:i,categoriesCount:+n.headers["x-total-count"]},this.setSectionsInTree(r),!i.length){e.next=12;break}return e.next=10,this.selectNodeWithPosition(0,0);case 10:e.next=13;break;case 12:this.resetDisplayedNode();case 13:this.resetScroll(1);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getMoreCatalogs:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,i,r,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=100,i=t.categories.length,e.next=4,this.axios.get("/stores/".concat(this.selectedStore,"/catalogs?limit=").concat(n,"&startAt=").concat(i));case 4:r=e.sent,o=zt(r.data),s={position:0,cat:t,elements:o,categoriesCount:+r.headers["x-total-count"]},this.addItemsToSectionInTree(s);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),selectParent:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.displayedNode.nodeType!==U){e.next=4;break}return e.next=3,this.getCatalogs();case 3:return e.abrupt("return");case 4:return t=this.displayedNodePosition.section-1,n=this.treeSections[t].categories.findIndex((function(e){return e.selected})),e.next=8,this.selectNodeWithPosition(t,n);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setWidth:function(){this.builderWidth=this.$refs.builder.offsetWidth,this.visibleSections=Math.round(this.builderWidth/this.sectionWidth),this.setSectionWidth(Math.ceil(this.builderWidth/this.visibleSections)-8)},nodeSelected:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,i,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.cat,i=t.parentGuid,r=n.guid!==this.displayedNode.guid,o=this.treeSections.findIndex((function(e){return e.guid===i})),this.selectNode({parentGuid:i,catGuid:n.guid}),e.next=6,this.getCategories(n,o);case 6:this.sectionClicked=o,r&&this.nodeChanged(o);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),nodeChanged:function(e){this.clearUndos(),this.resetScroll(e+1)},createMoveCommand:function(e,t,n,i,r){var o=this.treeSections[0].categories.find((function(e){return e.selected})),s=e.catalogGuid||o.guid,a={sortOrder:e.sortOrder,parentCategoryGuid:e.parentGuid===s?null:e.parentGuid,productCatalogGuid:s},l={sortOrder:this.dragInfo.node.sortOrder,parentCategoryGuid:this.dragInfo.parentGuid===o.guid?null:this.dragInfo.parentGuid,productCatalogGuid:o.guid},u=i?"<strong>".concat(this.dragInfo.node.name,"</strong> changed position"):"<strong>".concat(this.dragInfo.node.name,"</strong> was moved into <strong>").concat(e.name,"</strong>"),d=Wt({},this.dragInfo.node,{undoMessage:u,nodeGuid:this.dragInfo.node.guid,contentLanguage:this.contentLanguage,survivesNodeChange:!0,undoAction:Object(c["a"])(regeneratorRuntime.mark((function o(){var s;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,this.selectParent();case 2:s=i?n:e.parentGuid,this.selectNodeWithGuid(s),this.setFocus(),this.setSectionScrollPosition(t,r);case 6:case"end":return o.stop()}}),o,this)}))).bind(this)});return{save:a,undo:l,meta:d}},nodeDropped:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,i,r,o,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.dragInfo.node.guid,i=this.dragInfo.parentGuid===t.parentGuid,r=t.parentGuid===t.catalogGuid?0:this.treeSections.findIndex((function(e){return e.guid===t.parentGuid})),o=this.getSectionScrollPosition(r),s=this.createMoveCommand(t,r,n,i,o),e.next=7,this.moveCat(s);case 7:if(this.moveDraggedNode(t),t.parentGuid!==t.catalogGuid){e.next=11;break}return e.next=11,this.getCatalogs();case 11:return a=i?n:t.parentGuid,e.next=14,this.selectNodeWithGuid(a);case 14:this.setFocus(),this.setSectionScrollPosition(r,o);case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getSectionScrollPosition:function(e){return this.$refs.section[e]?this.$refs.section[e].getScrollPosition():0},setSectionScrollPosition:function(e,t){if(this.$refs.section[e])return this.$refs.section[e].setScrollPosition(t)},getCategories:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var i,r,o,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=K[t.nodeType],r=25,e.next=4,this.axios.get("/".concat(i,"/").concat(t.guid,"/categories?limit=").concat(r));case 4:o=e.sent,s=zt(o.data),a={position:n+1,elements:s,cat:t,categoriesCount:+o.headers["x-total-count"]},this.setSectionsInTree(a),this.setWidth(),this.slideSections();case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),getMoreCategories:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,i,r,o,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=K[t.nodeType],i=t.categories.length,r=100,e.next=5,this.axios.get("/".concat(n,"/").concat(t.guid,"/categories?limit=").concat(r,"&startAt=").concat(i));case 5:o=e.sent,s=zt(o.data),a={position:t.position,elements:s,cat:t,categoriesCount:+o.headers["x-total-count"]},this.addItemsToSectionInTree(a),this.setWidth(),this.slideSections();case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),resetScroll:function(e){var t=this.$refs.section;t&&t.length>e&&t[e].resetScroll()},setFocus:function(e){if(!e||!e.target.classList.contains("cat-builder__node")){var t=document.getElementById(this.displayedNode.guid);t&&t.focus()}},slideSections:function(){var e=this.slidePosition+this.visibleSections-1;this.sectionClicked===e&&this.sectionsInTree>e+1?this.slidePosition+=1:this.slidePosition=Math.max(this.sectionsInTree-this.visibleSections,0)},selectNodeWithPosition:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var i,r,o,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=Math.min(Math.max(t,0),this.sectionsInTree-1),r=this.treeSections[i],o=Math.min(Math.max(n,0),r.categories.length-1),s=this.displayedNodePosition.section!==i||this.displayedNodePosition.index!==o,a=0===this.displayedNodePosition.section&&0===this.displayedNodePosition.index,!s&&!a){e.next=9;break}return e.next=8,this.nodeSelected({cat:r.categories[o],parentGuid:r.guid});case 8:this.setFocus();case 9:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),selectNodeWithGuid:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,i,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<this.treeSections.length)){e.next=16;break}i=this.treeSections[n],r=0;case 4:if(!(r<i.categories.length)){e.next=13;break}if(o=i.categories[r],o.guid!==t){e.next=10;break}return e.next=9,this.nodeSelected({cat:o,parentGuid:i.guid});case 9:return e.abrupt("break",16);case 10:r++,e.next=4;break;case 13:n++,e.next=1;break;case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),setupScrollHandler:function(){var e=this;this.$refs.scroller.addEventListener("mousedown",(function(t){e.scrollInit.scrollerPos=e.scrollerPosition,e.scrollInit.mouseX=t.clientX,e.scrollInit.slidePos=e.slidePosition,e.scrollMove=e.scrollerPosition,e.scrolling=!0,window.addEventListener("mousemove",e.scrollMoveHandler)})),window.addEventListener("mouseup",(function(t){e.scrolling=!1,window.removeEventListener("mousemove",e.scrollMoveHandler),window.onmousemove=null}))},scrollMoveHandler:function(e){e.preventDefault();var t=e.clientX-this.scrollInit.mouseX;this.scrollMove=Math.min(Math.max(t+this.scrollInit.scrollerPos,0),this.scrollerWhiteSpace);var n=Math.round((this.scrollMove-this.scrollInit.scrollerPos)/this.scrollerPageSize);this.slidePosition=this.scrollInit.slidePos+n},catCreationTriggerVisible:function(){return-1!==this.$refs.section.findIndex((function(e){return e.createVisible}))},keydownHandler:function(e){if(!this.catCreationInputVisible&&!this.catCreationTriggerVisible()){var t=this.treeSections.length-1,n=this.displayedNodePosition.section,i=this.displayedNodePosition.index;switch(e.key){case"ArrowUp":i-=1;break;case"ArrowDown":i+=1;break;case"ArrowRight":this.isLeaf(n+1)?(this.catCreationTriggerVisibleInSection=t,this.setLeafIndex(n+1)):(n+=1,this.catCreationTriggerVisibleInSection=Math.min(n,t));break;case"ArrowLeft":if(0===n)break;this.leafIndex||(n-=1,i=this.treeSections[n].categories.findIndex((function(e){return e.selected}))),this.catCreationTriggerVisibleInSection=Math.max(n,0),this.setLeafIndex(null);break;case"c":case"C":if(this.openCreateDialogForSection(),0===n)return void e.preventDefault();break;default:return}e.preventDefault(),this.selectNodeWithPosition(n,i)}},isLeaf:function(e){return 0===this.treeSections[e].categories.length},setLeafIndex:function(e){this.leafIndex=e},beginHoverSection:function(e){if(!this.catCreationInputVisible){var t=this.treeSections.indexOf(e);this.isLeaf(t)&&this.setLeafIndex(t),this.catCreationTriggerVisibleInSection=t}},endHoverSection:function(){this.catCreationInputVisible||(this.catCreationTriggerVisibleInSection=null)},openCreateDialogForSection:function(){var e=this.$refs.section.find((function(e){return!0===e.$props.creationTriggerVisible}));e&&this.openCreateDialog(e.payload)},openCreateDialog:function(e){this.catCreationPayload=e,this.catCreationInputVisible=!0},closeCreateDialog:function(){this.catCreationPayload=null,this.catCreationInputVisible=!1},nodeCreated:function(e){var t=e.parentGuid,n=e.isCatalog;if(this.closeCreateDialog(),n)return this.getCatalogs(),!0;this.selectNodeWithGuid(t)}})},qt=Vt,Yt=(n("08d2"),Object(g["a"])(qt,O,C,!1,null,"bcaa9d88",null)),Kt=Yt.exports,Xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("generic-details",{on:{resurrected:e.resurrected,deleted:e.entityDeleted}})},Jt=[],Zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.details&&e.details.meta?n("section",{staticClass:"details-view"},[n("div",{staticClass:"details-header-placeholder"},[n("header",{ref:"headerContainer",staticClass:"details-header"},[n("div",{staticClass:"header-top"},[n("div",{staticClass:"name-group"},[n("h1",{directives:[{name:"truncate",rawName:"v-truncate"}],staticClass:"details-title",attrs:{name:"name"}},[e._v(e._s(e.details.name.value))]),n("v-popover",{attrs:{offset:"18"}},[n("btn-round",{attrs:{size:"24px"}},[n("icon-more")],1),n("template",{slot:"popover"},[n("div",{staticClass:"actions-container"},[n("div",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"action",attrs:{title:"Rename"},on:{click:function(t){return e.openDialog(e.details.name.guid)}}},[e._v(e._s(e.$t("details.rename",{label:""})))]),n("div",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"action",attrs:{title:"Change definition"},on:{click:function(t){return e.openDialog("definition")}}},[e._v(e._s(e.$t("details.changeDefinition")))]),e.details.sku?n("div",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"action",attrs:{title:"Change SKU"},on:{click:function(t){return e.openDialog(e.details.sku.guid)}}},[e._v(e._s(e.$t("details.changeSKU")))]):e._e(),n("div",{directives:[{name:"close-popover",rawName:"v-close-popover"}],staticClass:"action delete",attrs:{title:e.deleteLabel},on:{click:e.deleteEntity}},[e._v("\n                     "+e._s(e.deleteLabel)+"\n                  ")])]),n("hr",{staticClass:"separator-line"}),n("div",{staticClass:"audit-container"},[n("div",{staticClass:"audit-item"},[n("span",{staticClass:"audit-header"},[e._v(e._s(e.$t("details.created")))]),n("br"),n("span",{staticClass:"audit-text"},[e._v(e._s(e._f("format")(e.details.meta.createdOn,"DD. MMM YYYY",e.uiLanguage))+" "+e._s(e.$t("details.by"))+" "+e._s(e.details.meta.createdBy))])]),n("div",{staticClass:"audit-item"},[n("span",{staticClass:"audit-header"},[e._v(e._s(e.$t("details.modified")))]),n("br"),n("span",{staticClass:"audit-text"},[e._v(e._s(e._f("format")(e.details.meta.modifiedOn,"DD. MMM YYYY",e.uiLanguage))+" "+e._s(e.$t("details.by"))+" "+e._s(e.details.meta.modifiedBy))])])])])],2)],1),n("language-selector")],1),n("div",{staticClass:"header-bottom"},[n("p",{directives:[{name:"show",rawName:"v-show",value:!e.isHeaderFixed,expression:"!isHeaderFixed"},{name:"truncate",rawName:"v-truncate"}],staticClass:"details-subheader"},[e._v(" Definition: "+e._s(e.definitionName))]),e.details.sku?n("p",{directives:[{name:"show",rawName:"v-show",value:!e.isHeaderFixed,expression:"!isHeaderFixed"},{name:"truncate",rawName:"v-truncate"}],staticClass:"details-subheader"},[e._v(e._s(e.details.sku.label)+": "+e._s(e.details.sku.value))]):e._e()])])]),n("div",{staticClass:"details-content"},[e.details.media||e.details.primaryImage?n("div",{staticClass:"field-section-navigation"},[n("ul",{staticClass:"section-nav-ul"},[n("li",{staticClass:"section-nav",class:{active:e.isActiveNavField(e.nodeType)},on:{click:function(t){return e.scrollToElement(e.nodeType,!0)}}},[e._v("\n          "+e._s(e.$tc("details.basicInformation"))+"\n        ")]),n("li",{directives:[{name:"truncate",rawName:"v-truncate"}],staticClass:"section-nav",class:{active:e.isActiveNavField(e.mediaType)},on:{click:function(t){return e.scrollToElement(e.mediaType,!0)}}},[e._v("\n          "+e._s(e.$tc("details.media"))+"\n        ")]),e._l(e.dynamicProperties,(function(t){return n("li",{directives:[{name:"truncate",rawName:"v-truncate"}],key:e.details[t].guid,staticClass:"section-nav",class:{active:e.isActiveNavField(e.details[t].guid)},on:{click:function(n){e.scrollToElement(e.details[t].guid,!0),e.setActiveNavField(e.details[t].guid)}}},[e._v("\n          "+e._s(e.details[t].label)+"\n        ")])}))],2)]):e._e(),n("div",{staticClass:"field-section-fields"},[n("fields-section",{ref:e.nodeType,attrs:{"data-guid":e.nodeType},on:{sectionClicked:function(t){return e.setActiveNavField(e.nodeType)}}},[n(e.nodeType,{tag:"component",attrs:{language:e.contentLanguage},on:{change:e.saveChange}})],1),e.details.primaryImage?n("fields-section",{ref:e.details.primaryImage.guid,attrs:{heading:e.$tc("details.media"),"data-guid":e.details.primaryImage.guid}},[n("div",{staticClass:"media-section"},[n(e.details.primaryImage.editor,{tag:"component",attrs:{"with-label":!0,definition:e.details.primaryImage,name:"primaryImage","multi-select":!1,"content-type":"media"},on:{change:e.saveChange}}),n(e.details.thumbnailImage.editor,{tag:"component",attrs:{"with-label":!0,definition:e.details.thumbnailImage,name:"thumbnailImage","multi-select":!1,"content-type":"media"},on:{change:e.saveChange}})],1)]):e._e(),e.details.media?n("fields-section",{ref:e.details.media.guid,attrs:{heading:e.$tc("details.media"),"data-guid":e.details.media.guid}},[n("div",{staticClass:"media-section align-left"},[n("media",{tag:"component",attrs:{"with-label":!0,definition:e.details.media,name:"media","multi-select":!1,"content-type":"media"},on:{change:e.saveChange}})],1)]):e._e(),e.dynamicProperties.length>0?e._l(e.dynamicProperties,(function(t){return n("fields-section",{key:e.details[t].guid,ref:e.details[t].guid,refInFor:!0,attrs:{isDynamicProperties:!0,heading:e.details[t].label,"data-guid":e.details[t].guid},on:{sectionClicked:function(n){return e.setActiveNavField(e.details[t].guid)}}},[n(e.details[t].editor,{tag:"component",attrs:{language:e.contentLanguage,definition:e.details[t],name:t},on:{change:e.saveChange}})],1)})):e._e()],2)]),e.anyValidationErrors?n("form-feedback",{staticClass:"validation feedback",attrs:{type:"warning"}},[n("h5",[e._v("Please take another look at the content of these fields:")]),n("ul",e._l(e.validationErrors,(function(t,i,r){return n("li",{key:"anchor_"+i},[n("a",{attrs:{href:"#"+i}},[e._v(e._s(e.details[i].label))]),e._l(t,(function(t){return n("ul",{key:t},[n("li",[e._v(e._s(t))])])}))],2)})),0)]):e._e(),e.dialogOpen===e.details.name.guid?n("property-editor-dialog",{attrs:{name:"name",definition:e.details.name,"custom-header":e.nameEditorCustomHeader},on:{hideDialog:e.closeDialogs,onInput:e.onInput}}):e._e(),e.details.sku&&e.dialogOpen===e.details.sku.guid?n("property-editor-dialog",{attrs:{name:"sku",definition:e.details.sku},on:{hideDialog:e.closeDialogs,onInput:e.onInput}}):e._e(),"definition"===e.dialogOpen?n("property-editor-dialog",{attrs:{name:"definition",definition:e.details.definition},on:{hideDialog:e.closeDialogs,onInput:e.onInput}}):e._e()],1):e._e()},Qt=[],en=(n("6762"),n("2fdb"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"details__info"},[n("div",{staticClass:"details__info-wrapper",class:{toggled:e.toggled},on:{click:e.toggleInfo}},[n("cog",{staticClass:"cog"})],1),n("transition",{attrs:{name:"popover-right"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.toggled,expression:"toggled"}],staticClass:"dropdown-overlay details__info-dropdown"},[e._t("default")],2)])],1)}),tn=[],nn=n("4214"),rn={name:"info",data:function(){return{toggled:!1}},components:{cog:nn["a"]},methods:{hide:function(){this.toggled=!1},toggleInfo:function(e){var t=this;e.preventDefault(),this.toggled=!this.toggled,this.toggled&&this.$nextTick((function(){window.addEventListener("click",t.closeHandler),t.$el.addEventListener("click",(function(e){e.stopPropagation()}))}))},closeHandler:function(){this.toggled=!1,window.removeEventListener("click",this.closeHandler)}}},on=rn,sn=(n("a4f4"),Object(g["a"])(on,en,tn,!1,null,null,null)),an=sn.exports,cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-select-simple",class:{readonly:e.readonly,droppable:e.hasOptions}},[n("div",{staticClass:"uc-select-simple__selected",on:{click:e.toggleOptions}},[e._v(e._s(e.selectedText))]),e.hasOptions?n("div",{staticClass:"uc-select-simple__arrow",class:{toggled:e.optionsToggled},on:{click:e.toggleOptions}},[n("triangle")],1):e._e(),n("transition",{attrs:{name:"dropdown"}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.showOptions,expression:"showOptions"}],staticClass:"uc-select-simple__options dropdown-overlay"},e._l(e.filteredOptions,(function(t){return n("li",{key:t.value,staticClass:"uc-select-simple__option",on:{click:function(n){return e.selectOption(t)}}},[e._v(e._s(t.text))])})),0)])],1)},ln=[],un=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},[n("title",[e._v("triangle right")]),n("g",[n("path",{attrs:{d:"M14,7.999c0-0.326-0.159-0.632-0.427-0.819l-10-7C3.269-0.034,2.869-0.058,2.538,0.112 C2.207,0.285,2,0.626,2,0.999v14.001c0,0.373,0.207,0.715,0.538,0.887c0.331,0.17,0.73,0.146,1.035-0.068l10-7 C13.841,8.633,14,8.327,14,8.001C14,8,14,8,14,7.999C14,8,14,8,14,7.999z"}})])])},dn=[],fn={},hn=Object(g["a"])(fn,un,dn,!1,null,null,null),pn=hn.exports,gn={name:"uc-select-simple",data:function(){return{optionsToggled:!1}},props:{options:{type:Array},selected:String,placeholder:{type:String,default:function(){return this.$t("global.selectPlaceholder")}},noOptionsPlaceholder:{type:String,default:function(){return this.$t("global.selectNoOptionsPlaceholder")}},readonly:Boolean},computed:{selectedOption:function(){var e=this;return this.options.find((function(t){return t.value===e.selected}))},selectedText:function(){return this.selectedOption?this.selectedOption.text:this.hasOptions?this.placeholder:this.noOptionsPlaceholder},hasOptions:function(){return this.options.length>0},showOptions:function(){return this.optionsToggled&&!this.readonly&&this.hasOptions},filteredOptions:function(){var e=this;return this.options.filter((function(t){return t!==e.selectedOption}))}},methods:{hide:function(){this.optionsToggled=!1},toggleOptions:function(e){var t=this;this.readonly||(e.preventDefault(),this.optionsToggled=!this.optionsToggled,this.optionsToggled&&window.setTimeout((function(){window.addEventListener("click",t.closeHandler)}),10))},selectOption:function(e){this.readonly||(this.$emit("selected",e.value),this.optionsToggled=!1)},closeHandler:function(e){this.optionsToggled=!1,window.removeEventListener("click",this.closeHandler)}},components:{Triangle:pn}},mn=gn,vn=(n("1e86"),Object(g["a"])(mn,cn,ln,!1,null,null,null)),bn=vn.exports,yn=n("68f1"),wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"flip-list"}},[n("div",{key:"error",staticClass:"form-feedback",class:e.classes},[e._t("default")],2)])},On=[],Cn=n("a72b"),jn={name:"form-feedback",props:{type:{type:String,default:Cn["b"]}},computed:{classes:function(){return{info:this.type===Cn["b"],warning:this.type===Cn["c"],error:this.type===Cn["a"]}}}},xn=jn,Sn=(n("567f"),Object(g["a"])(xn,wn,On,!1,null,"43db7dd0",null)),_n=Sn.exports,kn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-boolean-select",class:{compact:e.compact}},[e.compact?[e._v(e._s(e.translatedValue))]:n("toggle",{attrs:{readonly:e.definition.readonly,label:e.definition.label,guid:e.definition.guid,checked:e.definition.value,tooltip:e.definition.description,compact:e.compact},on:{change:e.change}})],2)},Pn=[],In=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"uc-toggle switch",class:{readonly:e.readonly}},[n("input",{directives:[{name:"show",rawName:"v-show",value:!e.compact,expression:"!compact"}],attrs:{type:"checkbox",name:e.id,id:e.id,disabled:e.readonly},domProps:{checked:e.checkedValue,value:e.guid},on:{change:e.onChange}}),n("span",{staticClass:"slider round"}),e.compact?e._e():n("span",{directives:[{name:"truncate",rawName:"v-truncate"}],staticClass:"label"},[e._v(e._s(e.label))])])},Dn=[],En={name:"uc-toggle",data:function(){return{id:null}},props:{label:String,readonly:Boolean,checked:Boolean,guid:String,tooltip:String,compact:{type:Boolean,default:!1}},computed:{checkedValue:function(){return this.checked?"checked":""}},methods:{onChange:function(e){this.$emit("change",{value:e.target.checked,guid:this.guid})}},created:function(){this.id=Ae()}},Ln=En,Nn=(n("5a11"),Object(g["a"])(Ln,In,Dn,!1,null,"7d3d2764",null)),Tn=Nn.exports,$n={name:"boolean",props:{name:String,definition:{type:Object,default:function(){return{}}},compact:{type:Boolean,default:!1}},components:{Toggle:Tn},computed:{translatedValue:function(){var e=this.definition.value?"yes":"no";return this.$t("global.".concat(e))}},methods:{change:function(e){var t=Object(yn["a"])(this.name,this.definition.guid,this.definition.label,e.value,this.definition.value);this.$emit("change",t)}}},Mn=$n,Bn=(n("37a3"),Object(g["a"])(Mn,kn,Pn,!1,null,"450ee0ec",null)),Rn=Bn.exports,Hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("media",{attrs:{definition:e.definition,name:e.name,compact:e.compact,"multi-select":!0,language:e.language,"content-type":"content"},on:{change:e.change}})},Fn=[],Gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.withLabel?n("uc-label",{staticClass:"uc-image-picker__label",attrs:{definition:e.definition,language:e.language}}):e._e(),n("div",{staticClass:"picker-container",class:{compact:e.compact,full:!e.compact}},[e.definition?n("div",{staticClass:"stretch"},[n("section",{staticClass:"stretch media-area",on:{mouseover:function(t){e.hovered=!0},mouseleave:function(t){e.hovered=!1},click:function(t){return t.preventDefault(),e.toggle()}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:0===e.count&&!e.definition.readonly,expression:"count === 0 && !definition.readonly"}],staticClass:"stretch nothing-selected"},[n("div",{staticClass:"stretch nothing-selected inner"},[e._v("+")])]),e.count>0?n("uc-image",{staticClass:"stretch",attrs:{readonly:e.definition.readonly,src:e.definition.mediaUrl,alt:e.definition.mediaName}}):e._e(),e.definition.mediaUrl?e._e():n("label",{staticClass:"name"},[e._v(e._s(e.definition.mediaName))]),this.definition.readonly?e._e():[n("div",{directives:[{name:"show",rawName:"v-show",value:e.hovered,expression:"hovered"}],staticClass:"actions"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.count>1,expression:"count > 1"}],staticClass:"icon label background"},[e._v(e._s(e.countSummary))]),e.count>0?n("div",{staticClass:"icon small background edit"},[n("edit-icon",{staticClass:"icon-edit"})],1):e._e(),e.count>0?n("div",{staticClass:"icon small background",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.reset()}}},[n("close-icon",{staticClass:"icon-close align-right"})],1):e._e()])]],2)]):e._e(),e.toggled?n("div",{staticClass:"stretch picker dialog"},[n("header",{staticClass:"picker header-section"},[n("div",{directives:[{name:"truncate",rawName:"v-truncate"}],staticClass:"picker header-label"},[e._v(e._s(e.definition.label))]),n("div",{staticClass:"icon big align-right",on:{click:function(t){e.toggled=!e.toggled}}},[n("close-icon",{staticClass:"icon-close"})],1)]),n("content-navigator",{staticClass:"padding-x",attrs:{dataUrl:e.contentType}}),n("content-selector",{staticClass:"picker selector padding-x",attrs:{multiSelect:e.multiSelect,preSelectedItems:e.definition.selected}}),n("preview-bar",{staticClass:"picker preview-bar",on:{save:e.saveAndClose}})],1):e._e()])],1)},zn=[],An=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-image",class:[{cover:e.cover},{readonly:e.readonly}],on:{click:e.clickHandler}},[!e.fallback&&e.src?n("img",{class:[{cover:e.cover},{hidden:e.hideImage}],attrs:{src:e.src,alt:e.alt},on:{error:e.showDefault}}):e._e(),e.fallback?n("camera-icon"):e._e(),e.src||e.fallback?e._e():n("folder-icon",{staticClass:"folder"})],1)},Wn=[],Un=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"}},[n("title",[e._v("Not found")]),n("g",[n("path",{attrs:{d:"M7,52h0.758l13.913-13.913C20.616,36.301,20,34.225,20,32c0-6.627,5.373-12,12-12 c2.225,0,4.301,0.616,6.087,1.671L45.5,14l-5.7-7.6C39.611,6.148,39.314,6,39,6H25c-0.314,0-0.611,0.148-0.8,0.4L18.5,14H7 c-2.206,0-4,1.794-4,4v30C3,50.206,4.794,52,7,52z"}}),n("path",{attrs:{fill:"#000000",d:"M57,14h-2.758L42.329,25.913C43.384,27.699,44,29.775,44,32c0,6.627-5.373,12-12,12 c-2.225,0-4.301-0.616-6.087-1.671L16.242,52H57c2.206,0,4-1.794,4-4V18C61,15.794,59.206,14,57,14z"}}),n("path",{attrs:{d:"M3,62c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l58-58 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-58,58C3.512,61.902,3.256,62,3,62z"}})])])},Vn=[],qn={},Yn=Object(g["a"])(qn,Un,Vn,!1,null,null,null),Kn=Yn.exports,Xn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"}},[n("title",[e._v("Folder")]),n("g",[n("path",{attrs:{fill:"#F9D44C",d:"M17,8l-4-4H3C1.895,4,1,4.895,1,6v34c0,2.209,1.791,4,4,4h38c2.209,0,4-1.791,4-4V12c0-2.209-1.791-4-4-4H17 z"}}),n("path",{attrs:{fill:"#C7AA3D",d:"M47,14H1V6c0-1.105,0.895-2,2-2h10l4,4h26c2.209,0,4,1.791,4,4V14z"}}),n("circle",{attrs:{fill:"#C7AA3D",cx:"20.5",cy:"22.5",r:"2.5"}}),n("path",{attrs:{fill:"#C7AA3D",d:"M34.79,33.386l-7-9c-0.194-0.248-0.477-0.37-0.81-0.386c-0.315,0.007-0.61,0.162-0.793,0.419l-4.313,6.039 l-3.166-3.165c-0.212-0.212-0.504-0.315-0.806-0.288c-0.298,0.029-0.567,0.191-0.733,0.44l-4,6c-0.205,0.307-0.224,0.701-0.05,1.026 C13.292,34.797,13.631,35,14,35h20c0.382,0,0.73-0.218,0.898-0.561C35.066,34.097,35.024,33.688,34.79,33.386z"}})])])},Jn=[],Zn={},Qn=Object(g["a"])(Zn,Xn,Jn,!1,null,null,null),ei=Qn.exports,ti={name:"uc-image",data:function(){return{fallback:!1}},props:{src:String,alt:String,cover:Boolean,readonly:Boolean},computed:{hideImage:function(){return"/umbraco/ucommerce/images/ui/image_not_found.jpg"===this.src.toString()}},components:{CameraIcon:Kn,FolderIcon:ei},methods:{showDefault:function(){this.fallback=!0},clickHandler:function(){this.$emit("click")}}},ni=ti,ii=(n("cdba"),Object(g["a"])(ni,An,Wn,!1,null,"246f804c",null)),ri=ii.exports,oi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"input-label"},[e._v(e._s(e.computedLabel))])},si=[],ai={name:"uc-label",props:{name:String,definition:{type:Object,default:function(){return{}}},language:String},computed:{computedLabel:function(){var e=this.definition.multilingual?"(".concat(this.language,")"):"";return"".concat(this.definition.label," ").concat(e)}}},ci=ai,li=(n("33d2"),Object(g["a"])(ci,oi,si,!1,null,"3c22fe5d",null)),ui=li.exports,di=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("title",[e._v("Close")]),n("g",{attrs:{fill:"#111111"}},[n("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}})])])},fi=[],hi={},pi=Object(g["a"])(hi,di,fi,!1,null,null,null),gi=pi.exports,mi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 48 48","xml:space":"preserve"}},[n("title",[e._v("Edit")]),n("g",{attrs:{fill:"#111111"}},[n("path",{attrs:{fill:"#111111",d:"M43.7,8.6l-4.3-4.3c-0.9-0.9-2.2-1.5-3.5-1.5c-1.3,0-2.6,0.5-3.5,1.5L5.1,31.5C5,31.6,5,31.7,4.9,31.8 c0,0,0,0.1,0,0.1c0,0,0,0.1,0,0.1l-2,12c-0.1,0.3,0.1,0.6,0.3,0.9c0.2,0.2,0.4,0.3,0.7,0.3c0.1,0,0.1,0,0.2,0l12-2c0,0,0.1,0,0.1,0 c0,0,0.1,0,0.1,0c0.1,0,0.2-0.1,0.3-0.2l27.2-27.2C45.7,13.8,45.7,10.6,43.7,8.6z M9.3,42.2l-3.6-3.6l0.7-4.4l7.3,7.3L9.3,42.2z M30.7,18.7L14.4,35c-0.2,0.2-0.5,0.3-0.7,0.3c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l16.3-16.3c0.4-0.4,1-0.4,1.4,0 S31.1,18.3,30.7,18.7z M37.8,18.8l-8.6-8.6l2.6-2.6l8.6,8.6L37.8,18.8z"}})])])},vi=[],bi={},yi=Object(g["a"])(bi,mi,vi,!1,null,null,null),wi=yi.exports,Oi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("section",{ref:"builder",staticClass:"cat-builder",on:{click:e.setFocus,keydown:e.keydownHandler}},[n("div",{ref:"inner",staticClass:"cat-builder__inner",style:{transform:e.xPosition}},[n("div",{staticClass:"cat-builder__header"}),e._l(e.treeSections,(function(t,i){return n("tree-section",{key:i,ref:"section",refInFor:!0,attrs:{section:t},on:{nodeSelected:e.nodeSelected,needsMoreCats:e.loadMoreCats}})}))],2),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showScroll,expression:"showScroll"}],staticClass:"builder__scrollbar"},[n("div",{ref:"scroller",staticClass:"builder__scroll-handle",class:{scrolling:e.scrolling},style:{width:e.scrollerWidthPercent+"%",transform:"translate3d("+e.scrollerPosition+"px, 0, 0)"}})])])],1)])},Ci=[],ji=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"section",staticClass:"cat-builder__section",style:{width:e.sectionWidth+"px",height:e.sectionHeight+"px"}},[n("header",[n("span",{directives:[{name:"truncate",rawName:"v-truncate"}]},[e._v(e._s(e.section.name))])]),n("div",{ref:"body",staticClass:"section__body",on:{scroll:e.checkIfMoreItemsNeeded}},[e._l(e.section.categories,(function(t,i){return[n("tree-node",{key:t.guid,ref:"node",refInFor:!0,attrs:{cat:t,"parent-guid":e.section.guid,"cat-index":i},on:{selected:function(t){return e.$emit("nodeSelected",t)}}})]})),n("div",{ref:"remaining",staticClass:"section__remaining-items-placeholder",style:e.remainingItemsStyle})],2)])},xi=[],Si=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"node",staticClass:"cat-builder__node",class:e.classes,attrs:{tabindex:"0",id:e.cat.guid},on:{click:e.clickHandler}},[n("span",{directives:[{name:"truncate",rawName:"v-truncate"}]},[e._v(e._s(e.cat.name))]),n("right-arrow",{directives:[{name:"show",rawName:"v-show",value:e.cat.hasChildren,expression:"cat.hasChildren"}]})],1)},_i=[],ki={name:"tree-node",data:function(){return{hoverMsBeforeLoad:1e3,dragOverTimestamp:null,emitTypes:{selected:"selected",changeSection:"changeSection"},isDropzone:!1,dragClone:null}},props:{cat:Object,catIndex:Number,parentGuid:String},computed:{classes:function(){return{selected:this.cat.selected,displaying:this.cat.displaying}},height:function(){return this.$el.clientHeight}},components:{RightArrow:pn},methods:{clickHandler:function(e){e.stopPropagation(),this.setFocus(),this.select()},setFocus:function(){this.$el.focus()},select:function(){this.$emit(this.emitTypes.selected,{parentGuid:this.parentGuid,cat:this.cat})}}},Pi=ki,Ii=(n("8b9c"),Object(g["a"])(Pi,Si,_i,!1,null,"1e591f33",null)),Di=Ii.exports;function Ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ei(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ei(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ni={name:"tree-section",data:function(){return{headerEnterTimer:null,showCreateTrigger:!1,visibleTargetIndex:-1}},props:{section:Object},computed:Li({},Object(u["d"])("navigator",["sectionWidth","sectionHeight"]),{remainingItemsStyle:function(){var e=this.section.categories.length&&this.section.categoriesCount&&!this.section.endOfList?35:0,t=e*(this.section.categoriesCount-this.section.categories.length);return{height:"".concat(t,"px")}},sectionNodeType:function(){return 0===this.section.position?U:V}}),methods:{resetScroll:function(){this.$refs.body.scrollTop=0},getScrollPosition:function(){return this.$refs.body.scrollTop},setScrollPosition:function(e){this.$refs.body.scrollTop=e},checkIfMoreItemsNeeded:function(){var e=this.$refs.remaining,t=this.$refs.body;if(e&&t){var n=e.getBoundingClientRect().top,i=n<2*t.offsetHeight;i&&this.$emit("needsMoreCats",this.section)}}},components:{TreeNode:Di}},Ti=Ni,$i=(n("9f6e"),Object(g["a"])(Ti,ji,xi,!1,null,"30be8b51",null)),Mi=$i.exports,Bi=["album","folder","mediaLibrary","mediaLibraryFolder","content"].map((function(e){return e.toLowerCase()})),Ri=function(e){return e.map((function(e){return e.guid=e.id,Bi.includes(e.nodeType.toLowerCase())?e.pickerNodeType="Folder":e.pickerNodeType=e.nodeType,e}))},Hi={ImagePicker:{Folder:"Folder",Image:"Image",File:"File"},GenericList:{DefaultOrder:"DefaultOrder",CurrentOrder:"CurrentOrder",Configuration:"Configuration"}};function Fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fi(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fi(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zi={name:"content-navigator",data:function(){return{builderWidth:0,visibleSections:0,slidePosition:0,sectionClicked:0,scrolling:!1,scrollInit:{mouseX:0,scrollerPos:0,slidePos:0},scrollMove:0,isLoadingMoreItems:!1}},props:{dataUrl:String},computed:Gi({},Object(u["d"])("navigator",["treeSections","displayedNodePosition","sectionWidth","displayedNode"]),{},Object(u["d"])(["contentLanguage"]),{xPosition:function(){return"translate3d(-".concat(this.slidePosition*this.sectionWidth,"px, 0, 0)")},sectionsInTree:function(){return this.treeSections.length},showScroll:function(){return this.sectionsInTree*this.sectionWidth>this.builderWidth+50},scrollerWidthPercent:function(){return this.builderWidth/(this.sectionsInTree*this.sectionWidth)*100},scrollerWhiteSpace:function(){return this.builderWidth-this.scrollerWidthPercent*this.builderWidth/100},scrollerPageSize:function(){return this.scrollerWhiteSpace/(this.sectionsInTree-this.visibleSections)},scrollerPosition:function(){if(!this.scrolling){var e=this.scrollerPageSize*this.slidePosition;return e}return this.scrollMove}}),methods:Gi({},Object(u["e"])("navigator",["setSectionWidth","setSectionsInTree","addItemsToSectionInTree","selectNode","resetDisplayedNode"]),{loadMoreCats:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.endOfList){e.next=2;break}return e.abrupt("return");case 2:if(!this.isLoadingMoreItems){e.next=4;break}return e.abrupt("return");case 4:return this.isLoadingMoreItems=!0,e.prev=5,e.next=8,this.getMoreRootItems(t);case 8:return e.prev=8,this.isLoadingMoreItems=!1,e.finish(8);case 11:n=this.$refs.section[t.position],n&&n.checkIfMoreItemsNeeded.bind(n)();case 13:case"end":return e.stop()}}),e,this,[[5,,8,11]])})));function t(t){return e.apply(this,arguments)}return t}(),getSectionData:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n,i,r){var o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get(t);case 2:return o=e.sent,s=Ri(zt(o.data)),e.abrupt("return",{position:r,cat:n,elements:s.filter((function(e){return e.pickerNodeType===Hi.ImagePicker.Folder})),allElements:s.filter((function(e){return e.pickerNodeType!==Hi.ImagePicker.File})),categoriesCount:+o.headers["x-total-count"]});case 5:case"end":return e.stop()}}),e,this)})));function t(t,n,i,r){return e.apply(this,arguments)}return t}(),initRootItems:function(){var e={name:this.$t("contentNavigator.media"),nodeType:"root"},t={name:this.$t("contentNavigator.home"),hasChildren:!0,nodeType:"Folder",pickerNodeType:"Folder",id:"-1"},n=Ri(zt([t])),i={position:0,cat:e,elements:n,allElements:n,categoriesCount:1};this.setSectionsInTree(i),i.elements.length?this.selectNodeWithPosition(0,0):this.resetDisplayedNode()},getRootItems:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="".concat(this.dataUrl),e.next=3,this.getSectionData(n,t,null,1);case 3:i=e.sent,this.setSectionsInTree(i),this.resetScroll(2);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getMoreRootItems:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),getItems:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="".concat(this.dataUrl,"/").concat(t.nodeType,"/").concat(t.guid),e.next=3,this.getSectionData(i,t,null,n+1);case 3:r=e.sent,this.setSectionsInTree(r),this.setWidth(),this.slideSections(),this.resetScroll(n+1);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),getMoreItems:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),setWidth:function(){this.builderWidth=this.$refs.builder.offsetWidth,this.visibleSections=Math.round(this.builderWidth/300),this.setSectionWidth(Math.ceil(this.builderWidth/this.visibleSections))},nodeSelected:function(e){var t=e.cat,n=e.parentGuid,i=this.treeSections.findIndex((function(e){return e.guid===n}));this.selectNode({parentGuid:n,catGuid:t.guid}),0===i?this.getRootItems(t):this.getItems(t,i),this.sectionClicked=i},getSectionScrollPosition:function(e){return this.$refs.section[e]?this.$refs.section[e].getScrollPosition():0},setSectionScrollPosition:function(e,t){if(this.$refs.section[e])return this.$refs.section[e].setScrollPosition(t)},resetScroll:function(e){var t=this.$refs.section;t&&t.length>e&&t[e].resetScroll()},setFocus:function(e){var t=this;this.$nextTick((function(){if(!e||!e.target.classList.contains("cat-builder__node")){var n=document.getElementById(t.displayedNode.guid);n&&n.focus()}}))},slideSections:function(){var e=this.slidePosition+this.visibleSections-1;this.sectionClicked===e&&this.sectionsInTree>e+1?this.slidePosition+=1:this.slidePosition=Math.max(this.sectionsInTree-this.visibleSections,0)},selectNodeWithPosition:function(e,t){var n=Math.min(Math.max(e,0),this.sectionsInTree-1),i=this.treeSections[n],r=Math.min(Math.max(t,0),i.categories.length-1),o=this.displayedNodePosition.section!==n||this.displayedNodePosition.index!==r,s=0===this.displayedNodePosition.section&&0===this.displayedNodePosition.index;(o||s)&&(this.nodeSelected({cat:i.categories[r],parentGuid:i.guid}),this.setFocus())},setupScrollHandler:function(){var e=this;this.$refs.scroller.addEventListener("mousedown",(function(t){e.scrollInit.scrollerPos=e.scrollerPosition,e.scrollInit.mouseX=t.clientX,e.scrollInit.slidePos=e.slidePosition,e.scrollMove=e.scrollerPosition,e.scrolling=!0,window.addEventListener("mousemove",e.scrollMoveHandler)})),window.addEventListener("mouseup",(function(t){e.scrolling=!1,window.removeEventListener("mousemove",e.scrollMoveHandler),window.onmousemove=null}))},scrollMoveHandler:function(e){e.preventDefault();var t=e.clientX-this.scrollInit.mouseX;this.scrollMove=Math.min(Math.max(t+this.scrollInit.scrollerPos,0),this.scrollerWhiteSpace);var n=Math.round((this.scrollMove-this.scrollInit.scrollerPos)/this.scrollerPageSize);this.slidePosition=this.scrollInit.slidePos+n},keydownHandler:function(e){var t=this.displayedNodePosition.section,n=this.displayedNodePosition.index;switch(e.key){case"ArrowLeft":if(0===t)break;t-=1,n=this.treeSections[t].categories.findIndex((function(e){return e.selected}));break;case"ArrowUp":n-=1;break;case"ArrowRight":this.treeSections[t+1].categories.length&&(t+=1);break;case"ArrowDown":n+=1;break;default:return}e.preventDefault(),this.selectNodeWithPosition(t,n)}}),components:{TreeSection:Mi},mounted:function(){var e=this;this.initRootItems(),this.setWidth(),window.addEventListener("resize",(function(){e.setWidth(),e.slideSections()})),this.setupScrollHandler()}},Ai=zi,Wi=(n("f09b"),Object(g["a"])(Ai,Oi,Ci,!1,null,"60832646",null)),Ui=Wi.exports,Vi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-selector-container"},e._l(e.items,(function(t){return n("div",{key:t.guid,staticClass:"item",on:{click:function(n){return e.selectItem(t)}}},[n("picker-image",{attrs:{item:t,showName:!t.url,sizeObj:{value:180,suffix:"px"},selected:e.isSelected(t)}})],1)})),0)},qi=[],Yi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"picker-image",style:{width:e.size,height:e.size},on:{mouseover:function(t){e.hovered=!0},mouseleave:function(t){e.hovered=!1}}},[n("uc-image",{staticClass:"stretch",attrs:{src:e.item.url,alt:e.item.name}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.selected,expression:"selected"}],staticClass:"background stretch"}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.selected,expression:"selected"}],staticClass:"badge label-container"},[e._v(e._s(e.selectedItemPosition))]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.nameShown,expression:"nameShown"}],staticClass:"name label-container"},[e._v(e._s(e.item.name))])],1)},Ki=[];function Xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xi(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xi(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zi={name:"picker-image",data:function(){return{fallback:!1,hovered:!1}},props:{item:Object,sizeObj:{value:Number,suffix:String},selected:Boolean,showName:{type:Boolean,default:!1}},components:{UcImage:ri},computed:Ji({},Object(u["d"])("navigator",["selectedItems"]),{size:function(){return"".concat(this.sizeObj.value).concat(this.sizeObj.suffix)},selectedItemPosition:function(){return this.selectedItems.indexOf(this.item.guid)+1},nameShown:function(){return this.showName||this.selected||this.hovered}}),methods:{getSize:function(e){return"".concat(e).concat(this.sizeObj.suffix)}}},Qi=Zi,er=(n("f69f"),Object(g["a"])(Qi,Yi,Ki,!1,null,"9ea9a170",null)),tr=er.exports;function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rr={name:"content-selector",components:{PickerImage:tr},props:{multiSelect:Boolean,preSelectedItems:{type:Array,default:function(){return[]}}},mounted:function(){this.setSelectedItems(this.preSelectedItems)},computed:ir({},Object(u["d"])("navigator",["treeSections","displayedNodePosition","selectedItems"]),{section:function(){return this.displayedNodePosition.section+1},items:function(){return this.treeSections[this.section]?this.treeSections[this.section].allCategories:[]},selectedItemsSummary:function(){var e=this.selectedItems.length;return this.$tc("contentNavigator.itemsSelected",e)}}),methods:ir({},Object(u["e"])("navigator",["toggleSelectedItem","setSelectedItems"]),{isSelected:function(e){return this.selectedItems.includes(e.guid)},selectedItemPosition:function(e){return this.selectedItems.indexOf(e.guid)+1},selectItem:function(e){var t=this.selectedItems[0];!this.multiSelect&&t&&this.toggleSelectedItem(t),this.toggleSelectedItem(e.guid)}})},or=rr,sr=(n("35b1"),Object(g["a"])(or,Vi,qi,!1,null,"35e4313e",null)),ar=sr.exports,cr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"preview-bar wrapper"},[n("div",{staticClass:"preview-bar container"},[n("label",[e._v(e._s(e.selectedItemsSummary))]),n("button",{staticClass:"preview-bar save btn primary",on:{click:e.save}},[e._v(e._s(this.$t("global.done")))])])])},lr=[];function ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ur(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ur(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fr={name:"content-selector-preview-bar",computed:dr({},Object(u["d"])("navigator",["selectedItems"]),{selectedItemsSummary:function(){var e=this.selectedItems.length;return this.$tc("contentNavigator.itemsSelected",e)}}),methods:{save:function(){this.$emit("save",this.selectedItems)}}},hr=fr,pr=(n("d810"),Object(g["a"])(hr,cr,lr,!1,null,"e440dd6e",null)),gr=pr.exports,mr={name:"uc-image-picker",components:{UcImage:ri,CloseIcon:gi,EditIcon:wi,ContentNavigator:Ui,ContentSelector:ar,PreviewBar:gr,UcLabel:ui},props:{name:String,definition:Object,compact:{type:Boolean,default:!1},multiSelect:Boolean,contentType:String,language:String,withLabel:{type:Boolean,default:!0}},data:function(){return{toggled:!1,hovered:!1,lastScrollPosition:Number}},computed:{count:function(){return(this.definition.selected||[]).length},countSummary:function(){return"+ ".concat(this.count-1," more")}},watch:{toggled:function(){this.toggled?(this.lastScrollPosition=document.documentElement.scrollTop,document.documentElement.style.overflow="hidden",document.addEventListener("keydown",this.keydownHandler)):(document.documentElement.style.overflow="auto",document.removeEventListener("keydown",this.keydownHandler),document.documentElement.scrollTop=this.lastScrollPosition)}},methods:{toggle:function(){this.definition.readonly||(this.toggled=!this.toggled)},reset:function(){this.save([])},save:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,i,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Object(yn["a"])(this.name,this.definition.guid,this.definition.label,t,this.definition.selected||[],"selected"),!t.length){e.next=8;break}return e.next=4,this.axios.get("".concat(this.contentType,"/").concat(t[0]));case 4:i=e.sent,r=n.save,r[this.name].mediaName=i.data.name,r[this.name].mediaUrl=i.data.url;case 8:o=n.undo,o[this.name].mediaName=this.definition.mediaName,o[this.name].mediaUrl=this.definition.mediaUrl,this.$emit("change",n);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),saveAndClose:function(e){this.save(e),this.toggle()},keydownHandler:function(e){"Escape"===e.key&&this.toggle()}}},vr=mr,br=(n("cbf7"),Object(g["a"])(vr,Gn,zn,!1,null,"3f1bfb54",null)),yr=br.exports,wr={name:"uc-content-picker-multi-select",components:{Media:yr},props:{name:String,definition:Object,compact:Boolean,language:String},methods:{change:function(e){this.$emit("change",e)}}},Or=wr,Cr=Object(g["a"])(Or,Hn,Fn,!1,null,"0d49086a",null),jr=Cr.exports,xr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("media",{attrs:{definition:e.definition,name:e.name,compact:e.compact,"multi-select":!1,language:e.language,"content-type":"content"},on:{change:e.change}})},Sr=[],_r={name:"uc-content",components:{Media:yr},props:{name:String,definition:Object,compact:Boolean,language:String},methods:{change:function(e){this.$emit("change",e)}}},kr=_r,Pr=Object(g["a"])(kr,xr,Sr,!1,null,"0e6967a2",null),Ir=Pr.exports,Dr=n("3267"),Er=n("2ba6"),Lr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-single-select"},[e.compact?[n("label",[e._v(e._s(e.description))])]:[e.availableDefinitions&&e.availableDefinitions.length?n("div",[n("uc-single-select",{attrs:{definition:e.definition,compact:e.compact,name:"definition",options:e.availableDefinitions},on:{change:e.onChange}})],1):e._e()]],2)},Nr=[],Tr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.getOptions&&e.getOptions.length?n("div",{staticClass:"uc-single-select"},[e.compact?[n("div",{staticClass:"compact description",attrs:{title:e.description}},[e._v(e._s(e.description))])]:[n("label",{staticClass:"uc-input-label",attrs:{for:e.fieldId}},[e._v(e._s(e.definition.label))]),e.getOptions&&e.getOptions.length<6?n("div",{staticClass:"uc-input-wrapper"},e._l(e.getOptions,(function(t){return n("uc-radio",{key:t.guid,staticClass:"uc-single-select__radio",attrs:{readonly:e.definition.readonly,label:t.label,guid:t.guid,checked:t.guid===e.selectedOption,group:e.fieldId},on:{change:e.change}})})),1):[n("uc-select",{attrs:{readonly:e.definition.readonly,options:e.getOptions,selected:e.selectedOption,placeholder:e.definition.placeholder},on:{selected:e.change}})],e._l(e.definition.errors,(function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})}))]],2):e._e()},$r=[],Mr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"uc-radio",class:{readonly:e.readonly}},[n("input",{attrs:{type:"radio",name:e.group,id:e.id,disabled:e.readonly},domProps:{value:e.guid,checked:e.checked},on:{change:e.onChange}}),n("radio",{staticClass:"radio-icon"}),n("span",{directives:[{name:"truncate",rawName:"v-truncate"}],staticClass:"label"},[e._v(e._s(e.label))])],1)},Br=[],Rr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[n("circle",{attrs:{cx:"12",cy:"12",r:"11.5",fill:"none","fill-rule":"evenodd",stroke:"#E8E8ED"}}),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",x:"7",y:"7",width:"10",height:"10",viewBox:"0 0 10 10"}},[n("circle",{attrs:{cx:"12",cy:"12",r:"5",fill:"#1C254F","fill-rule":"nonzero",transform:"translate(-7 -7)"}})])])},Hr=[],Fr={},Gr=Object(g["a"])(Fr,Rr,Hr,!1,null,null,null),zr=Gr.exports,Ar={name:"uc-radio",data:function(){return{id:null}},props:{label:String,readonly:Boolean,checked:Boolean,group:String,guid:String},components:{Radio:zr},methods:{onChange:function(e){this.$emit("change",{label:this.label,guid:this.guid})}},created:function(){this.id=Ae()}},Wr=Ar,Ur=(n("72c9"),Object(g["a"])(Wr,Mr,Br,!1,null,null,null)),Vr=Ur.exports,qr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-select",class:{readonly:e.readonly}},[n("div",{staticClass:"uc-select__selected",attrs:{id:e.id},on:{click:e.toggleOptions}},[e._v(e._s(e.selectedText))]),n("div",{staticClass:"uc-select__arrow",class:{toggled:e.optionsToggled},on:{click:e.toggleOptions}},[n("triangle")],1),n("transition",{attrs:{name:"dropdown"}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.showOptions,expression:"showOptions"}],staticClass:"uc-select__options dropdown-overlay"},e._l(e.filteredOptions,(function(t){return n("li",{key:t.value,staticClass:"uc-select__option",on:{click:function(n){return e.selectOption(t)}}},[e._v(e._s(t.label))])})),0)])],1)},Yr=[],Kr={name:"uc-select",data:function(){return{id:0,optionsToggled:!1}},props:{options:Array,selected:String,placeholder:{Type:String,default:function(){return this.$t("global.selectPlaceholder")}},readonly:Boolean},computed:{selectedOption:function(){var e=this;return this.options?this.options.find((function(t){return t.guid===e.selected})):""},selectedText:function(){return this.selectedOption?this.selectedOption.label:this.placeholder},showOptions:function(){return this.optionsToggled&&!this.readonly&&this.options.length>0},filteredOptions:function(){var e=this;return this.options.filter((function(t){return t!==e.selectedOption}))}},methods:{toggleOptions:function(e){var t=this;this.readonly||(e.preventDefault(),this.optionsToggled=!this.optionsToggled,this.optionsToggled&&window.setTimeout((function(){window.addEventListener("click",t.closeHandler)}),10))},selectOption:function(e){this.readonly||(this.$emit("selected",e),this.optionsToggled=!1)},closeHandler:function(e){this.optionsToggled=!1,window.removeEventListener("click",this.closeHandler)}},components:{Triangle:pn},created:function(){this.id=Ae()}},Xr=Kr,Jr=(n("a970"),Object(g["a"])(Xr,qr,Yr,!1,null,null,null)),Zr=Jr.exports,Qr=n("26c7"),eo={name:"single-select",data:function(){return{fieldId:""}},props:{name:String,definition:{type:Object,default:function(){return{options:[]}}},compact:{type:Boolean,default:!1},options:{type:Array,default:function(){return[]}}},computed:{getOptions:function(){return this.options.length>0?this.options:this.definition.options},selectedOption:function(){return this.definition.selected&&this.definition.selected.length>0?this.definition.selected[0].guid?this.definition.selected[0].guid:this.definition.selected[0]:this.definition.value},description:function(){var e=this;if(!this.definition.options||!this.definition.options.length)return this.definition.value;var t=this.definition.options.find((function(t){return t.guid===e.selectedOption}));return t?t.label:this.definition.value}},components:{UcRadio:Vr,UcSelect:Zr,feedback:Qr["a"]},methods:{change:function(e){var t=Object(yn["a"])(this.name,this.definition.guid,this.definition.label,[e.guid],this.definition.selected,"selected");this.$emit("change",t)}},created:function(){this.fieldId=Ae()}},to=eo,no=(n("aea4"),Object(g["a"])(to,Tr,$r,!1,null,null,null)),io=no.exports;function ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ro(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ro(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var so=Object(u["a"])("details"),ao={name:"definition-picker",data:function(){return{fieldId:"",availableDefinitions:[]}},props:{name:String,definition:{type:Object,default:function(){return{options:[]}}},compact:{type:Boolean,default:!1}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.compact){e.next=4;break}return e.next=3,this.loadDefinitions();case 3:this.availableDefinitions=e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),computed:oo({},so.mapGetters(["details","validationErrors"]),{description:function(){return this.definition.value||(this.definition.options&&this.definition.selected.length?this.definition.options[this.definition.selected[0]].label:"")}}),components:{UcSingleSelect:io},methods:{change:function(e){var t=Object(yn["a"])(this.name,this.definition.guid,this.definition.label,[e.guid],this.definition.selected,"selected");this.$emit("change",t)},loadDefinitions:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.get("".concat(K[this.details.meta.nodeType],"/definitions"));case 2:return t=e.sent,e.abrupt("return",t.data.map((function(e){return{guid:e.guid,label:e.name}})));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onChange:function(e){this.$emit("onInput",e)}},created:function(){this.fieldId=Ae()}},co=ao,lo=Object(g["a"])(co,Lr,Nr,!1,null,"e5e3226c",null),uo=lo.exports,fo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-single-select"},[e.compact?[n("label",[e._v(e._s(e.description))])]:[e.definition.options&&e.definition.options.length?n("div",[n("label",{staticClass:"uc-input-label",attrs:{for:e.fieldId}},[e._v(e._s(e.definition.label))]),e.definition.options.length<6?n("div",{staticClass:"uc-input-wrapper"},e._l(e.definition.options,(function(t){return n("uc-radio",{key:t.guid,staticClass:"uc-single-select__radio",attrs:{readonly:e.definition.readonly,label:t.label,guid:t.guid,checked:t.guid===e.selectedOption,group:e.fieldId},on:{change:e.change}})})),1):[n("uc-select",{attrs:{readonly:e.definition.readonly,options:e.definition.options,selected:e.selectedOption,placeholder:e.definition.placeholder},on:{selected:e.change}})],e._l(e.definition.errors,(function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})}))],2):e._e()]],2)},ho=[],po={name:"definition-type-picker",data:function(){return{fieldId:""}},props:{name:String,definition:{type:Object,default:function(){return{options:[]}}},compact:{type:Boolean,default:!1}},computed:{selectedOption:function(){return this.definition.selected?this.definition.selected[0]:""},description:function(){return this.definition.value||(this.definition.options&&this.definition.selected.length?this.definition.options[this.definition.selected[0]].label:"")}},components:{UcRadio:Vr,UcSelect:Zr,feedback:Qr["a"]},methods:{change:function(e){var t=Object(yn["a"])(this.name,this.definition.guid,this.definition.label,[e],this.definition.selected,"selected");this.$emit("change",t)}},created:function(){this.fieldId=Ae()}},go=po,mo=(n("6897"),Object(g["a"])(go,fo,ho,!1,null,"226c8fef",null)),vo=mo.exports,bo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("media",{attrs:{definition:e.definition,name:e.name,compact:e.compact,"multi-select":!1,language:e.language,"content-type":"content"},on:{change:e.change}})},yo=[],wo={name:"uc-email-content",components:{Media:yr},props:{name:String,definition:Object,compact:Boolean,language:String},methods:{change:function(e){this.$emit("change",e)}}},Oo=wo,Co=Object(g["a"])(Oo,bo,yo,!1,null,"1ace5bfc",null),jo=Co.exports,xo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("media",{attrs:{definition:e.definition,name:e.name,compact:e.compact,"multi-select":!0,language:e.language,"content-type":"media"},on:{change:e.change}})},So=[],_o={name:"uc-image-picker-multi-select",components:{Media:yr},props:{name:String,definition:Object,compact:Boolean,language:String},methods:{change:function(e){this.$emit("change",e)}}},ko=_o,Po=Object(g["a"])(ko,xo,So,!1,null,"d4cd760c",null),Io=Po.exports,Do=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-long-text-editor uc-editor",class:{compact:e.compact}},[e.compact?e._e():n("uc-text-area",{attrs:{value:e.definition.value,label:e.computedLabel,placeholder:e.definition.placeholder,readonly:e.definition.readonly,error:e.definition.error,tooltip:e.definition.description},on:{blur:e.onBlur,input:e.onInput}}),e._l(e.definition.errors,(function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})})),e.compact?n("div",{staticClass:"truncate"},[n("span",{attrs:{title:e.definition.value}},[e._v(e._s(e.definition.value))])]):e._e()],2)},Eo=[],Lo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-text-area uc-editor",class:[e.readonly?"readonly":"",e.focusOn?"active":""]},[n("div",{staticClass:"textarea-field-container"},[e.label?n("label",{on:{click:function(t){return e.setFocusAndFocus()}}},[e._v(e._s(e.label))]):e._e(),n("div",{staticClass:"textarea-field-wrapper"},[n("div",{staticClass:"feedback-icon-wrap"},[n("div",{staticClass:"feedback-icon"},[n("uc-icon",{directives:[{name:"show",rawName:"v-show",value:"Active"===e.condition,expression:"condition === 'Active'"}],attrs:{icon:"ArrowBack"}}),n("uc-icon",{directives:[{name:"show",rawName:"v-show",value:this.isError,expression:"this.isError"}],attrs:{icon:"Asterix"}})],1)]),n("textarea",{ref:"area",staticClass:"uc-text-area__area",attrs:{rows:"5",id:e.id,disabled:e.readonly},domProps:{value:e.value},on:{input:e.emitValue,focus:e.onFocus,blur:e.onBlur}})])])])},No=[],To={name:"uc-text-area",components:{ucIcon:vt},data:function(){return{id:null,focusOn:!1,inputValue:"",condition:"Idle"}},props:{label:String,placeholder:String,value:String,isError:{type:Boolean,default:function(){return!1}},readonly:Boolean,error:String,tooltip:String},methods:{getFocus:function(){return""===this.value||""===this.inputValue},emitValue:function(e){this.$emit("input",e.target.value),this.inputValue=e.target.value},onBlur:function(e){this.focusOn=""!==this.inputValue||""!==this.value,this.condition=""===this.value?"Idle":"Filled",this.$emit("blur",e)},onFocus:function(e){this.$emit("focus",e),this.setFocus(e)},setFocus:function(e){this.readonly?this.focusOn=this.getFocus():(this.focusOn=!0,this.condition="Active")},setFocusAndFocus:function(){this.focusOn=!0,this.$refs.area.focus()}},created:function(){this.id=Ae()},mounted:function(){this.focusOn=this.value}},$o=To,Mo=(n("e4b9"),Object(g["a"])($o,Lo,No,!1,null,"17f395a0",null)),Bo=Mo.exports,Ro=n("b012"),Ho=n.n(Ro),Fo=function(e){if(this.definition.value!==e){var t=Object(yn["a"])(this.name,this.definition.guid,this.definition.label,e,this.definition.value);this.$emit("change",t)}},Go={name:"long-text",props:{name:String,definition:{type:Object,default:function(){return{}}},compact:{type:Boolean,default:!1},language:String},computed:{computedLabel:function(){var e=this.definition.multilingual&&void 0!==this.language&&""!==this.language?"(".concat(this.language,")"):"";return"".concat(this.definition.label," ").concat(e)}},components:{UcTextArea:Bo,feedback:Qr["a"]},methods:{onInput:function(e){this.emitChangeDebounced(e)},onBlur:function(e){this.emitChange(e.target.value)},emitChange:Fo,emitChangeDebounced:Ho()(Fo,400)}},zo=Go,Ao=(n("ac36"),Object(g["a"])(zo,Do,Eo,!1,null,"3af0f4dc",null)),Wo=Ao.exports,Uo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("media",{attrs:{definition:e.definition,name:e.name,compact:e.compact,"multi-select":!1,language:e.language,"content-type":"media"},on:{change:e.change}})},Vo=[],qo={name:"uc-media",components:{Media:yr},props:{name:String,definition:Object,compact:Boolean,language:String},methods:{change:function(e){this.$emit("change",e)}}},Yo=qo,Ko=Object(g["a"])(Yo,Uo,Vo,!1,null,"421fe526",null),Xo=Ko.exports,Jo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-multi-select"},[e.compact?[n("div",{staticClass:"compact description",attrs:{title:e.fullDescription}},[e._v(e._s(e.description))])]:[e.definition.options.length?n("div",{staticClass:"expanded"},[n("label",{staticClass:"uc-input-label"},[e._v(e._s(e.definition.label))]),e.longList()?n("div",[n("uc-search",{on:{onSearch:e.onSearch}}),e.matchesFound()?e._e():n("div",{staticClass:"uc-search_no-results long-list"},[e._v(e._s(e.$t("global.searchNoResults")))])],1):e._e(),e.matchesFound()?n("div",{staticClass:"uc-input-wrapper",class:{"uc-multi-select__list long-list":e.longList()}},e._l(e.filteredOptions,(function(t){return n("uc-checkbox",{key:t.guid,staticClass:"uc-multi-select__check",attrs:{readonly:e.definition.readonly,guid:t.guid,label:t.label,value:t.guid,checked:e.isChecked(t.guid)},on:{change:e.change}})})),1):e._e(),e._l(e.definition.errors,(function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})}))],2):e._e()]],2)},Zo=[],Qo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"uc-checkbox",class:{readonly:e.readonly}},[n("input",{directives:[{name:"show",rawName:"v-show",value:!e.compact,expression:"!compact"}],ref:"input",attrs:{type:"checkbox",name:e.id,id:e.id,disabled:e.readonly},domProps:{checked:e.checkedValue,value:e.guid},on:{change:e.onChange}}),n("div",{staticClass:"uc-checkbox__check",class:{compact:e.compact}},[e.dual?e._e():n("check",{staticClass:"check-mark"}),e.dual?n("check-dual"):e._e()],1),e.compact?e._e():n("span",{directives:[{name:"truncate",rawName:"v-truncate"}],staticClass:"label"},[e._v(e._s(e.label))])])},es=[],ts=n("f0d6"),ns=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}},[n("rect",{attrs:{width:"15",height:"15",x:".5",y:".5",fill:"none","fill-rule":"evenodd",stroke:"#E1E1E8",rx:"4"}}),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}},[n("rect",{attrs:{width:"16",height:"16",fill:"#1C254F","fill-rule":"evenodd",rx:"4"}}),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",x:"4",y:"7",width:"8",height:"2",viewBox:"0 0 8 2"}},[n("path",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#FFF","stroke-linecap":"round","stroke-linejoin":"round",d:"M0 1.021l8 .042"}})])])])},is=[],rs={},os=Object(g["a"])(rs,ns,is,!1,null,null,null),ss=os.exports,as={name:"uc-checkbox",data:function(){return{id:null}},props:{label:String,readonly:Boolean,checked:Boolean,guid:String,tooltip:String,indeterminate:{type:Boolean,default:!1},dual:{type:Boolean,default:!1},compact:{type:Boolean,default:!1}},components:{Check:ts["a"],CheckDual:ss},watch:{indeterminate:function(){this.$refs.input.indeterminate=this.indeterminate}},computed:{checkedValue:function(){return this.checked?"checked":""}},methods:{onChange:function(e){this.$emit("change",{value:e.target.checked,label:this.label,guid:this.guid})}},created:function(){this.id=Ae()}},cs=as,ls=(n("abe4"),Object(g["a"])(cs,Qo,es,!1,null,"0190573e",null)),us=ls.exports,ds=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search_container"},[n("div",{staticClass:"icon_container",on:{click:e.focusInput}},[n("search-icon")],1),n("uc-text-input",{ref:"searchInput",staticClass:"search-input",attrs:{placeholder:e.$t("global.search"),value:e.searchTerm},on:{input:e.onSearch}}),n("div",{staticClass:"icon_container close-icon",on:{click:e.onClear}},[n("close-icon")],1)],1)},fs=[],hs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 24 24","xml:space":"preserve"}},[n("title",[e._v("Search")]),n("g",{attrs:{"stroke-linecap":"square","stroke-linejoin":"miter","stroke-width":"2",fill:"#111111",stroke:"#111111"}},[n("line",{attrs:{fill:"none","stroke-miterlimit":"10",x1:"22",y1:"22",x2:"16.4",y2:"16.4"}}),n("circle",{attrs:{fill:"none",stroke:"#111111","stroke-miterlimit":"10",cx:"10",cy:"10",r:"9"}})])])},ps=[],gs={},ms=Object(g["a"])(gs,hs,ps,!1,null,null,null),vs=ms.exports,bs={name:"uc-search",components:{UcTextInput:Ot,SearchIcon:vs,CloseIcon:gi},data:function(){return{searchTerm:""}},methods:{onSearch:function(e){this.searchTerm=e,this.$emit("onSearch",e)},onClear:function(){this.onSearch(""),this.focusInput()},focusInput:function(){this.$refs.searchInput.focus()}}},ys=bs,ws=(n("337d"),Object(g["a"])(ys,ds,fs,!1,null,"a224b656",null)),Os=ws.exports,Cs=function(e){return JSON.parse(JSON.stringify(e))},js={name:"multi-select",props:{name:String,definition:{type:Object,default:function(){return{options:[]}}},compact:{type:Boolean,default:!1}},components:{UcCheckbox:us,UcSearch:Os,feedback:Qr["a"]},data:function(){return{searchTerm:""}},computed:{filteredOptions:function(){var e=this;return""===this.searchTerm||null===this.searchTerm?this.definition.options:this.definition.options.filter((function(t){return t.label.toLowerCase().includes(e.searchTerm.toLowerCase())}))},description:function(){var e=this;if(!this.definition.options||!this.definition.options.length)return"";if(!this.definition.selected)return"";var t=this.definition.options.filter((function(t){return e.definition.selected.includes(t.guid)}));return t.length?1===t.length?t[0].label:"".concat(t[0].label," and ").concat(t.length-1," more"):""},fullDescription:function(){var e=this;if(!this.definition.options||!this.definition.options.length||!this.definition.selected)return"";var t=this.definition.options.filter((function(t){return e.definition.selected.includes(t.guid)}));return t.length?t.map((function(e){return e.label})).join(", "):""}},methods:{isChecked:function(e){return!!this.definition.selected&&this.definition.selected.includes(e)},longList:function(){return this.definition.options.length>6},matchesFound:function(){return this.filteredOptions.length>0},change:function(e){var t=Cs(this.definition.selected?this.definition.selected:[]);e.value?t.push(e.guid):t=t.filter((function(t){return t!==e.guid}));var n=Object(yn["a"])(this.name,this.definition.guid,this.definition.label,t,this.definition.selected?this.definition.selected:[],"selected");this.$emit("change",n)},onSearch:function(e){this.searchTerm=e}}},xs=js,Ss=(n("4e42"),Object(g["a"])(xs,Jo,Zo,!1,null,"22fbd2b4",null)),_s=Ss.exports,ks=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-number-editor uc-editor",class:{focused:e.focused,compact:e.compact}},[e.compact?[n("label",[e._v(e._s(e.definition.value))])]:[n("uc-numeric-input",{attrs:{value:e.definition.value,label:e.computedLabel,placeholder:e.definition.placeholder,error:e.definition.error,readonly:e.definition.readonly,tooltip:e.definition.description},on:{blur:e.onBlur,focus:e.onFocus,input:e.onInput}}),e._l(e.definition.errors,(function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})}))]],2)},Ps=[],Is=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-numeric-input"},[e.label?n("label",{staticClass:"uc-numeric-input__label input-label",class:{error:e.error},attrs:{for:e.id}},[e._v(e._s(e.label))]):e._e(),n("div",{staticClass:"input-field-container"},[n("div",{staticClass:"input-field-wrapper"},[n("input",{ref:"field",staticClass:"uc-numeric-input__input",attrs:{type:"number",id:e.id,disabled:e.readonly,placeholder:e.placeholder},domProps:{value:e.value},on:{input:e.emitValue,focus:function(t){return e.$emit("focus",t)},blur:function(t){return e.$emit("blur",t)}}})])])])},Ds=[],Es={name:"uc-numeric-input",data:function(){return{id:null}},props:{label:String,placeholder:String,value:String,readonly:Boolean,error:String,tooltip:String},methods:{emitValue:function(e){this.$emit("input",e.target.value)},focus:function(){this.$refs.field.focus()}},created:function(){this.id=Ae()}},Ls=Es,Ns=(n("5ffc"),Object(g["a"])(Ls,Is,Ds,!1,null,"1d761a1d",null)),Ts=Ns.exports,$s=function(e){if(this.definition.value!==e){var t=Object(yn["a"])(this.name,this.definition.guid,this.definition.label,e,this.definition.value);this.$emit("change",t)}},Ms={name:"number",data:function(){return{focused:!1}},props:{name:String,definition:{type:Object,default:function(){return{}}},compact:{type:Boolean,default:!1},language:String},computed:{computedLabel:function(){var e=this.definition.multilingual?"(".concat(this.language,")"):"";return"".concat(this.definition.label," ").concat(e)}},components:{UcNumericInput:Ts,feedback:Qr["a"]},methods:{onInput:function(e){this.emitChangeDebounced(e)},onBlur:function(e){this.emitChange(e.target.value),""===e.target.value&&null===this.definition.value||(this.focused=!0)},onFocus:function(){this.focused=!0},emitChange:$s,emitChangeDebounced:Ho()($s,400)},mounted:function(){this.focused=this.definition.value}},Bs=Ms,Rs=(n("4bcf"),Object(g["a"])(Bs,ks,Ps,!1,null,"b9b96b42",null)),Hs=Rs.exports,Fs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-rich-text uc-editor",class:{readonly:e.readonly,focused:e.focused,blurred:e.blurred,compact:e.compact}},[e.compact?[n("div",{staticClass:"compact description",attrs:{title:e.definition.value},domProps:{innerHTML:e._s(e.definition.value)}})]:[e.definition.label?n("label",{on:{click:e.setFocusAndFocus}},[e._v(e._s(e.computedLabel))]):e._e(),n("div",{staticClass:"input-field-container"},[n("div",{staticClass:"input-field-wrapper"},[n("div",{staticClass:"feedback-icon-wrap"},[n("div",{staticClass:"feedback-icon"},[n("uc-icon",{directives:[{name:"show",rawName:"v-show",value:!this.computedError&&!e.definition.readonly&&"Active"===e.condition,expression:"!this.computedError && !definition.readonly && condition === 'Active'"}],attrs:{icon:"ArrowBack"}}),n("uc-icon",{directives:[{name:"show",rawName:"v-show",value:this.computedError,expression:"this.computedError"}],attrs:{icon:"Asterix"}})],1)]),n("div",{ref:"editor",on:{click:e.setFocusAndFocus}})])]),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.computedError&&e.computedRequired,expression:"!computedError && computedRequired"}],staticClass:"required-field"},[e._v("Required")]),e._l(e.definition.errors,(function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})}))]],2)},Gs=[],zs=n("9339"),As=n.n(zs),Ws={name:"uc-rich-text",data:function(){return{editor:null,focused:!1,blurred:!0,inputValue:"",condition:"Idle"}},props:{name:String,definition:{type:Object,default:function(){return{}}},language:String,theme:{type:String,default:"snow"},readonly:Boolean,placeholder:{type:String,default:""},label:String,compact:{type:Boolean,default:!1}},watch:{"definition.value":function(){this.compact||void 0!==this.definition.value&&this.definition.value!==this.editor.root.innerHTML&&(this.editor.root.innerHTML=this.definition.value,this.$nextTick((function(){this.editor.on("text-change",this.update)})))}},mounted:function(){this.compact||(this.editor=new As.a(this.$refs.editor,{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]]},theme:this.theme,readOnly:this.definition.readonly,placeholder:this.placeholder}),null!==this.definition.value?(this.editor.root.innerHTML=this.definition.value,this.inputValue=this.definition.value):this.inputValue="",this.editor.on("text-change",this.update),this.editor.on("selection-change",this.setSelectionChange),this.focused=!this.isEmptyValidator())},created:function(){this.inputValue=this.definition.value},computed:{computedLabel:function(){var e=this.definition.multilingual?"(".concat(this.language,")"):"";return"".concat(this.definition.label," ").concat(e)},computedError:function(){return!(void 0===this.definition.errors||null===this.definition.errors)},computedRequired:function(){return!!this.definition.hasOwnProperty("validation")&&this.definition.validation.required}},components:{feedback:Qr["a"],ucIcon:vt},methods:{update:Ho()((function(){var e=this.editor.root.innerHTML;if(this.inputValue=this.editor.root.innerHTML,e!==this.definition.value){var t=Object(yn["a"])(this.name,this.definition.guid,this.definition.label,e,this.definition.value);this.$emit("change",t),this.focused&&"Active"!==this.condition&&(this.condition="Active")}}),500),setSelectionChange:Ho()((function(e){null===e?(this.focused=!this.isEmptyValidator(),"Idle"!==this.condition&&(this.condition="Idle",this.blurred=!0)):this.blurred=!1}),500),setFocusAndFocus:function(){this.focused=!0},isEmptyValidator:function(){return"<p><br></p>"===this.inputValue||'<pre class="ql-syntax" spellcheck="false">\n</pre>'===this.inputValue||""===this.inputValue}}},Us=Ws,Vs=(n("cef3"),n("e6cb"),Object(g["a"])(Us,Fs,Gs,!1,null,"0e4e734f",null)),qs=Vs.exports,Ys=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-short-text-editor uc-editor",class:{compact:e.compact}},[e.compact?[n("label",[e._v(e._s(e.definition.value)+" ")])]:[n("uc-text-input",{attrs:{value:e.definition.value,label:e.computedLabel,isError:e.computedError,error:e.definition.error,errors:e.definition.errors,placeholder:e.definition.placeholder,readonly:e.definition.readonly,tooltip:e.definition.description,size:e.size},on:{focus:function(t){return e.$emit("focus",t)},blur:e.onBlur,input:e.onInput}}),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.computedError&&e.computedRequired,expression:"!computedError && computedRequired"}],staticClass:"required-field"},[e._v("Required")]),e._l(e.definition.errors,(function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})}))]],2)},Ks=[],Xs={name:"short-text",props:{name:{type:String,required:!0},definition:{type:Object,default:function(){return{}}},compact:{type:Boolean,default:!1},language:String,size:{type:String,default:function(){return"small"}}},computed:{computedLabel:function(){var e=this.definition.multilingual&&void 0!==this.language&&""!==this.language?"(".concat(this.language,")"):"";return"".concat(this.definition.label," ").concat(e)},computedError:function(){return void 0!==this.definition.errors&&null!==this.definition.errors},computedRequired:function(){return!!this.definition.hasOwnProperty("validation")&&this.definition.validation.required}},components:{ucTextInput:Ot,feedback:Qr["a"]},methods:{onBlur:function(e){if(this.definition.value!==e.target.value||this.definition.error){var t=Object(yn["a"])(this.name,this.definition.guid,this.definition.label,e.target.value,this.definition.value);this.$emit("change",t)}},onInput:function(e){if(this.definition.value!==e||this.definition.error){var t=Object(yn["a"])(this.name,this.definition.guid,this.definition.label,e,this.definition.value);this.$emit("onInput",t)}}}},Js=Xs,Zs=(n("2f22"),Object(g["a"])(Js,Ys,Ks,!1,null,"f230b9e6",null)),Qs=Zs.exports,ea=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-price-editor uc-editor",class:{compact:e.compact}},[e.compact?[n("label",[e._v(e._s(e.price))])]:[n("uc-text-input",{directives:[{name:"show",rawName:"v-show",value:!e.editing,expression:"!editing"}],attrs:{value:e.price,label:e.computedLabel,error:e.definition.error,placeholder:e.definition.placeholder,readonly:e.definition.readonly,tooltip:e.definition.description,size:e.size},on:{focus:e.onFocus}}),n("uc-numeric-input",{directives:[{name:"show",rawName:"v-show",value:e.editing,expression:"editing"}],attrs:{value:e.definition.value,label:e.computedLabel,error:e.definition.error,placeholder:e.definition.placeholder,readonly:e.definition.readonly,tooltip:e.definition.description},on:{blur:e.onBlur,input:e.onInput}}),e._l(e.definition.errors,(function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})}))]],2)},ta=[];function na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?na(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):na(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ra=function(e){if(this.definition.value!==e){var t=Object(yn["a"])(this.name,this.definition.guid,this.definition.label,e,this.definition.value);this.$emit("change",t)}},oa={name:"price",props:{name:String,definition:{type:Object,default:function(){return{}}},compact:{type:Boolean,default:!1},language:String,size:{type:String,default:function(){return"small"}}},components:{UcTextInput:Ot,UcNumericInput:Ts,feedback:Qr["a"]},data:function(){return{editing:!1}},computed:ia({},Object(u["d"])(["uiLanguage"]),{price:function(){return this.definition.value?this.definition.currencyIsoCode?this.formattedPrice:this.definition.value:""},formattedPrice:function(){return new Intl.NumberFormat(this.uiLanguage,{style:"currency",currency:this.definition.currencyIsoCode}).format(this.definition.value)},computedLabel:function(){var e=this.definition.multilingual?"(".concat(this.language,")"):"";return"".concat(this.definition.label," ").concat(e)}}),methods:{onFocus:function(){this.editing=!0},onInput:function(e){this.emitChangeDebounced(e)},onBlur:function(e){this.emitChange(e.target.value),this.editing=!1},emitChange:ra,emitChangeDebounced:Ho()(ra,400)}},sa=oa,aa=(n("db9b"),Object(g["a"])(sa,ea,ta,!1,null,"1626e4be",null)),ca=aa.exports,la=function(){return Promise.resolve().then(n.bind(null,"3267"))},ua=function(){return Promise.resolve().then(n.bind(null,"2ba6"))},da={Boolean:Rn,ContentPickerMultiSelect:jr,Content:Ir,Date:Dr["default"],DateTime:Er["default"],DefinitionPicker:uo,DefinitionTypePicker:vo,EmailContent:jo,ImagePickerMultiSelect:Io,LongText:Wo,Media:Xo,EnumMultiSelect:_s,Number:Hs,RichText:qs,ShortText:Qs,Enum:io,DatePicker:la,DateTimePicker:ua,Price:ca},fa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"details-catalog"},[n("h2",{staticClass:"basic-info-heading"},[e._v("Basic Information")]),n("section",{staticClass:"details-catelog__static"},[n("div",{staticClass:"details-catelog__static-right"},[n("uc-boolean",{staticClass:"compact",attrs:{definition:e.details.displayOnWebsite,name:"displayOnWebsite"},on:{change:e.save}}),n("uc-boolean",{staticClass:"compact",attrs:{definition:e.details.showPricesIncludingVAT,name:"showPricesIncludingVAT"},on:{change:e.save}}),e.language?n("uc-short-text",{attrs:{showLanguage:!0,language:e.language,definition:e.details.displayName,name:"displayName"},on:{change:e.save}}):e._e(),e.language?n("uc-short-text",{attrs:{showLanguage:!0,language:e.language,definition:e.details.name,name:"name"},on:{change:e.save}}):e._e(),n("uc-single-select",{attrs:{definition:e.details.defaultPriceGroup,name:"defaultPriceGroup"},on:{change:e.save}}),n("uc-multi-select",{attrs:{definition:e.details.allowedPriceGroups,name:"allowedPriceGroups"},on:{change:e.save}})],1)])])},ha=[];function pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pa(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pa(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ma=Object(u["a"])("details"),va=ma.mapGetters,ba={name:"catalog-details",props:{language:String},computed:ga({},va(["details"]),{},Object(u["d"])(["systemInfo"])),consumedProperties:["displayName","displayOnWebsite","showPricesIncludingVAT","defaultPriceGroup","allowedPriceGroups","definition"],components:{UcSingleSelect:io,UcMultiSelect:_s,UcShortText:Qs,UcBoolean:Rn},methods:{save:function(e){this.$emit("change",e)}}},ya=ba,wa=(n("ff34"),Object(g["a"])(ya,fa,ha,!1,null,"5ddfc8e6",null)),Oa=wa.exports,Ca=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"details-category"},[n("h2",{staticClass:"basic-info-heading"},[e._v(e._s(e.$tc("details.basicInformation")))]),n("section",{staticClass:"details-category__static"},[n("div",{staticClass:"details-category__static-right"},[n("uc-boolean",{attrs:{definition:e.details.displayOnWebsite,name:"displayOnWebsite"},on:{change:e.save}}),e.language?n("uc-short-text",{attrs:{showLanguage:!0,language:e.language,definition:e.details.displayName,name:"displayName"},on:{change:e.save}}):e._e(),e.language?n("uc-rich-text",{attrs:{definition:e.details.description,name:"description",language:e.language},on:{change:e.save}}):e._e(),n("uc-single-select",{attrs:{definition:e.details.definition,name:"definition"},on:{change:e.save}})],1)])])},ja=[];function xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xa(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xa(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _a=Object(u["a"])("details"),ka=_a.mapGetters,Pa={name:"category-details",props:{language:String},computed:Sa({},ka(["details","priceGroups","categoryDefinitions"]),{},Object(u["d"])(["systemInfo"])),consumedProperties:["displayName","name","description","displayOnWebsite","media","definition"],components:{UcShortText:Qs,UcRichText:qs,UcBoolean:Rn,UcSingleSelect:io},methods:{save:function(e){this.$emit("change",e)}}},Ia=Pa,Da=(n("525a"),Object(g["a"])(Ia,Ca,ja,!1,null,null,null)),Ea=Da.exports,La=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"details-product"},[n("h2",{staticClass:"basic-info-heading"},[e._v(e._s(e.$tc("details.basicInformation")))]),n("section",{staticClass:"details-product__static"},[n("div",{staticClass:"details-product__static-right"},[n("uc-boolean",{attrs:{definition:e.details.displayOnWebsite,name:"displayOnWebsite"},on:{change:e.save}}),e.language?n("uc-short-text",{attrs:{showLanguage:!0,language:e.language,definition:e.details.displayName,name:"displayName"},on:{change:e.save}}):e._e(),n("uc-short-text",{attrs:{definition:e.details.sku,name:"sku"},on:{change:e.save}}),e.language?n("long-text",{attrs:{compact:!1,definition:e.details.shortDescription,language:e.language,name:"shortDescription"},on:{change:e.save}}):e._e(),e.language?n("uc-rich-text",{attrs:{definition:e.details.longDescription,name:"longDescription",language:e.language},on:{change:e.save}}):e._e()],1)])])},Na=[];function Ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ta(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ta(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ma=Object(u["a"])("details"),Ba=Ma.mapGetters,Ra={name:"product-details",props:{language:String},computed:$a({},Ba(["details"])),consumedProperties:["variantSku","key","sku","displayName","name","shortDescription","longDescription","displayOnWebsite","createdBy","createdOn","modifiedBy","modifiedOn","guid","primaryImage","thumbnailImage","definition","rating"],components:{LongText:Wo,UcShortText:Qs,UcRichText:qs,UcBoolean:Rn},methods:{save:function(e){this.$emit("change",e)}}},Ha=Ra,Fa=(n("11a8"),Object(g["a"])(Ha,La,Na,!1,null,"f3bdacd4",null)),Ga=Fa.exports,za={productCatalog:Oa,productCategory:Ea,product:Ga},Aa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"fields-section",on:{click:e.sectionClicked}},[n("h2",{staticClass:"basic-info-heading"},[e._v(e._s(e.heading))]),e._t("default")],2)},Wa=[],Ua={props:{isDynamicProperties:{default:!1},heading:String},methods:{sectionClicked:function(){this.$emit("sectionClicked")}}},Va=Ua,qa=(n("e30d"),Object(g["a"])(Va,Aa,Wa,!1,null,"c8b4e648",null)),Ya=qa.exports,Ka=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-popover",{attrs:{offset:18,width:"200px",open:e.popoverOpen},on:{hide:function(t){e.popoverOpen=!1},"apply-show":function(t){e.popoverOpen=!0}}},[e.fitsSimpleEditor?e._e():n("div",{staticClass:"pill-selected pill tooltip-target"},[n("span",{staticClass:"text"},[e._v(e._s(e.contentLanguageName))]),n("arrow-down",{staticClass:"arrow-down-icon"})],1),n("template",{slot:"popover"},[n("div",{staticClass:"language-dropdown-container"},e._l(e.languages,(function(t){return n("div",{key:t.value,staticClass:"language-option",class:e.isSelectedLanguage(t)?"selected":"",on:{click:function(n){e.setContentLanguage(t.value),e.popoverOpen=!1}}},[n("span",{staticClass:"text",attrs:{title:t.text}},[e._v(e._s(t.text))])])})),0)])],2),e.optionsCount>1&&e.fitsSimpleEditor?n("div",{ref:"pillContainer",staticClass:"language-pill-container"},e._l(e.languages,(function(t){return n("div",{key:t.value,class:e.isSelectedLanguage(t)?"pill-selected pill":"pill",on:{click:function(n){return e.setContentLanguage(t.value)}}},[n("span",{staticClass:"text",attrs:{title:t.text}},[e._v(e._s(t.text))])])})),0):e._e()],1)},Xa=[];function Ja(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ja(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ja(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qa={name:"language-selector",components:{ArrowDown:D},data:function(){return{popoverOpen:!1,fitsSimpleEditor:{type:Boolean,default:!1}}},mounted:function(){this.setFitsSimpleEditor()},watch:{optionsCount:function(){this.setFitsSimpleEditor()}},computed:Za({},Object(u["d"])(["languages","contentLanguage"]),{optionsCount:function(){return this.languages.length},contentLanguageName:function(){var e=this;return this.languages.find((function(t){return t.value===e.contentLanguage})).text}}),methods:Za({},Object(u["e"])(["setContentLanguage"]),{setFitsSimpleEditor:function(){var e=this;this.$nextTick((function(){if(e.$refs&&e.$refs.pillContainer){var t=e.$refs.pillContainer.getBoundingClientRect().width;e.fitsSimpleEditor=t<400}}))},isSelectedLanguage:function(e){return e.value===this.contentLanguage}})},ec=Qa,tc=(n("138d"),Object(g["a"])(ec,Ka,Xa,!1,null,"5e9f6f0f",null)),nc=tc.exports,ic=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"btn-round-container",style:{width:e.size,height:e.size},on:{click:function(t){return t.preventDefault(),e.$emit("click")}}},[e._t("default")],2)},rc=[],oc={name:"btn-round",props:{size:String}},sc=oc,ac=(n("5bc9"),Object(g["a"])(sc,ic,rc,!1,null,"42480592",null)),cc=ac.exports,lc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[n("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[n("path",{attrs:{stroke:"#E8E8ED",d:"M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0z"}}),n("path",{attrs:{fill:"#1C254F",d:"M16 11a1 1 0 1 1 0 2 1 1 0 0 1 0-2M12 11a1 1 0 1 1 0 2 1 1 0 0 1 0-2M8 11a1 1 0 1 1 0 2 1 1 0 0 1 0-2"}})])])},uc=[],dc={},fc=Object(g["a"])(dc,lc,uc,!1,null,null,null),hc=fc.exports,pc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("popup-dialog",{on:{hideDialog:e.hideDialog},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n    "+e._s(e.header)+"\n  ")]},proxy:!0},{key:"content",fn:function(){return[n(e.definition.editor,{ref:"editor",tag:"component",attrs:{language:e.contentLanguage,definition:e.definition,name:e.name},on:{onInput:e.captureSaveCommand}})]},proxy:!0},{key:"actions",fn:function(){return[n("uc-button",{staticClass:"submit-button",attrs:{text:e.$t("global.done"),type:"submit",primary:!0},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.captureSaveCommand(t)},click:e.submitCommand}})]},proxy:!0}])})},gc=[],mc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dialog-container",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideDialog(t)}}},[n("div",{staticClass:"dialog-overlay",on:{click:function(t){return t.preventDefault(),e.hideDialog(t)}}}),n("div",{staticClass:"dialog"},[n("header",[e._t("title")],2),e._t("content"),n("div",{staticClass:"dialog-actions"},[e._t("actions"),n("uc-button",{attrs:{text:this.$t("global.cancel"),primary:!1},on:{click:e.hideDialog}})],2)],2)])},vc=[],bc={name:"popup-dialog",props:{},components:{UcButton:kt},computed:{},methods:{hideDialog:function(){this.$emit("hideDialog")}}},yc=bc,wc=(n("281f"),Object(g["a"])(yc,mc,vc,!1,null,"c7a016e0",null)),Oc=wc.exports;function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cc(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xc=Object(u["a"])("details"),Sc=Object(u["a"])("builder"),_c={name:"property-editor-dialog",components:jc({PopupDialog:Oc,UcButton:kt},da),data:function(){return{saveCommand:void 0}},props:{definition:{type:Object,default:function(){return{}}},name:{type:String,default:""},customHeader:{type:String,default:void 0}},mounted:function(){var e=this;this.$el.addEventListener("keyup",(function(t){13===t.keyCode&&e.saveCommand&&e.submitCommand()})),this.$nextTick((function(){this.focusInput()}))},computed:jc({},Object(u["d"])(["contentLanguage"]),{},xc.mapGetters(["details","validationErrors"]),{header:function(){return this.customHeader?this.customHeader:"".concat(this.$t("global.change")," ").concat(this.name)}}),methods:jc({},xc.mapActions(["changeDefinition"]),{},Sc.mapMutations(["setCurrentNodeName"]),{},Object(u["c"])(["save"]),{focusInput:function(){this.$refs.editor&&this.$refs.editor.$el.querySelectorAll("input")[0]&&this.$refs.editor.$el.querySelectorAll("input")[0].focus()},hideDialog:function(){this.$emit("hideDialog")},captureSaveCommand:function(e){this.saveCommand=e},submitCommand:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.saveChange(this.saveCommand);case 2:if(!this.details["name"].errors){e.next=5;break}return this.focusInput(),e.abrupt("return");case 5:this.saveCommand.save.hasOwnProperty("name")&&this.setCurrentNodeName(this.saveCommand.save.name.value),this.hideDialog();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveChange:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.enrichCommand(t),e.next=3,this.save(t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),enrichCommand:function(e){var t=e.meta;t.contentLanguage=this.contentLanguage,t.nodeType=this.details.meta.nodeType,t.nodeGuid=this.details.meta.entityGuid}})},kc=_c,Pc=Object(g["a"])(kc,pc,gc,!1,null,"2091396b",null),Ic=Pc.exports;function Dc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dc(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dc(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lc=Object(u["a"])("details"),Nc=Object(u["a"])("builder"),Tc={name:"generic-details",data:function(){return{activeItem:this.nodeType,scrollPos:0,domElements:[],scrollOffset:150,scrollFromMenu:{navScroll:!1,sectionGuid:""},isScrolling:null,initialScrollOffset:150,initialHeaderTop:0,isHeaderFixed:!1,intersectionObserver:null,dialogOpen:{type:String,default:null},saveCommand:void 0}},props:{},watch:{contentLanguage:function(){this.details.meta&&this.changeContentLanguage(this.contentLanguage)}},mounted:function(){window.scroll(0,0)},created:function(){var e=this;this.$nextTick((function(){e.domElements.length>0&&e.indexDomElements()}),0),window.addEventListener("scroll",this.handleHeader),this.attachScrollListeners()},destroyed:function(){window.removeEventListener("scroll",this.handleHeader),this.detachScrollListeners(),this.intersectionObserver.disconnect()},computed:Ec({},Object(u["d"])(["systemInfo","languages","uiLanguage","contentLanguage","definitionsByDefinitionGuid"]),{},Lc.mapGetters(["details","validationErrors"]),{deleteLabel:function(){return this.$t("details.delete",{label:J[this.details.meta.nodeType]})},nameEditorCustomHeader:function(){return this.$t("details.rename",{label:J[this.details.meta.nodeType]})},meta:function(){return this.details.meta?this.details.meta:{}},name:function(){return this.details.name?this.details.name.value:""},definitionName:function(){return this.details.meta.definition?this.details.meta.definition.name:this.$t("details.noDefinition")},nodeType:function(){var e=this;return this.$nextTick((function(){e.indexDomElements(),1===e.domElements.length&&(e.intersectionObserver.disconnect(),e.detachScrollListeners())}),0),this.details&&this.details.meta?this.details.meta.nodeType:null},anyValidationErrors:function(){return Object.getOwnPropertyNames(this.validationErrors||{}).filter((function(e){return"__ob__"!==e})).length>0},dynamicProperties:function(){var e=this,t=za[this.details.meta.nodeType];if(!t)return[];var n=t.consumedProperties.concat(["meta","sortOrder","name"]);return Object.keys(this.details).filter((function(t){return!n.includes(t)&&"Price"!==e.details[t].editor}))},mediaType:function(){return this.details.primaryImage?this.details.primaryImage.guid:this.details.media.guid}}),components:Ec({FormFeedback:_n,UcSelectSimple:bn,InfoWidget:an,ShortText:Qs,FieldsSection:Ya,LanguageSelector:nc,BtnRound:cc,IconMore:hc,Simplebar:xe["a"]},da,{},za,{UcText:Ot,PropertyEditorDialog:Ic}),methods:Ec({},Lc.mapActions(["changeDefinition","changeContentLanguage"]),{},Object(u["c"])(["save","delete"]),{},Object(u["e"])(["setContentLanguage","addUndo","clearUndos"]),{},Nc.mapMutations(["setCurrentNodeName"]),{saveChange:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.enrichCommand(t),e.next=3,this.save(t);case 3:this.$emit("change",t);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),submitCommand:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.saveChange(this.saveCommand);case 2:if(!this.details["name"].errors){e.next=4;break}return e.abrupt("return");case 4:this.closeDialogs(),this.saveCommand.save.hasOwnProperty("name")&&this.setCurrentNodeName(this.saveCommand.save.name.value);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onInput:function(e){this.saveCommand=e},closeDialogs:function(){this.dialogOpen=null},openDialog:function(e){this.dialogOpen=e},handleHeader:function(){var e=this.$refs.headerContainer;0===this.initialHeaderTop&&(this.initialHeaderTop=e.getBoundingClientRect().top),e.getBoundingClientRect().top<=0&&window.scrollY>this.initialHeaderTop?(e.classList.add("fixed"),this.isHeaderFixed=!0):(e.classList.remove("fixed"),this.isHeaderFixed=!1)},enrichCommand:function(e){var t=e.meta;t.contentLanguage=this.contentLanguage,t.nodeType=this.details.meta.nodeType,t.nodeGuid=this.details.meta.entityGuid},deleteEntity:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(yn["a"])("deleted","cbaf8c70-639c-4716-a891-00efb0fb82bc","Is Deleted",!0,!1),n=t.meta,n.contentLanguage=this.contentLanguage,n.nodeType=this.details.meta.nodeType,n.nodeGuid=this.details.meta.entityGuid,n.survivesNodeChange=!0,n.undoMessage="".concat(this.details.name.value," ").concat(this.$t("global.wasDeleted")),n.undoAction=function(){i.$emit("resurrected",i.details.meta.entityGuid)},e.next=10,this.delete(t);case 10:return e.next=12,this.$emit("deleted",n.nodeGuid);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectDefinition:function(e){var t=this.details.meta.definition?this.details.meta.definition.guid:null,n=Object(yn["a"])("definition",X[this.details.meta.nodeType],"definition",e,t);this.enrichCommand(n),this.changeDefinition(n)},scrollToElement:function(e,t){t&&(this.scrollFromMenu.navScroll=!0,this.scrollFromMenu.sectionGuid=e);var n=this.$refs[e];n=Array.isArray(n)?n[0].$el:this.$refs[e].$el;var i=n.getBoundingClientRect().top+window.scrollY-this.initialScrollOffset,r=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight);r-window.innerHeight<i&&this.setActiveNavField(e),window.scrollTo({top:i,behavior:"smooth"})},isActiveNavField:function(e){return this.activeItem===e},setActiveNavField:function(e){""!==e&&(this.activeItem=e)},onScrollMenuHighlight:function(){var e=document.getElementsByClassName("field-section-fields")[0];if(void 0!==e){if(e.getBoundingClientRect().height-window.scrollY<window.innerHeight&&!this.scrollFromMenu.navScroll){var t=window.innerHeight*(window.innerHeight/(e.getBoundingClientRect().height+e.offsetTop));this.scrollOffset=window.innerHeight-(e.getBoundingClientRect().height-window.scrollY-t),window.scrollY<this.initialScrollOffset&&(this.scrollOffset=this.initialScrollOffset)}else this.scrollOffset=this.initialScrollOffset;this.scrollPos=window.scrollY+this.scrollOffset;var n=this.domElements.filter((function(e){return e.intersecting})),i=this.findClosestDomElementIndex(this.scrollPos,n),r=n[i];this.scrollFromMenu.navScroll?this.setActiveNavField(this.scrollFromMenu.sectionGuid):this.setActiveNavField(r.guid)}},findClosestDomElementIndex:function(e,t){for(var n=1/0,i=-1,r=0;r<t.length;r++){var o=Math.abs(t[r].topPos-e);o<n&&(n=o,i=r)}return i},indexDomElements:function(){var e={root:null,rootMargin:"-50px",threshold:0};this.intersectionObserver=new IntersectionObserver(this.observeElements,e),this.setActiveNavField(this.nodeType),this.domElements=[];for(var t=document.getElementsByClassName("fields-section"),n=0;n<t.length;n++){t[n].setAttribute("data-pos",t[n].getBoundingClientRect().top.toString());var i=t[n].getAttribute("data-guid"),r=t[n].getBoundingClientRect().y;this.domElements.push({guid:i,topPos:r,intersecting:!1}),this.intersectionObserver.observe(t[n])}this.domElements[0].intersecting=!0,this.attachScrollListeners()},observeElements:function(e,t){for(var n=this,i=function(t){var i=n.domElements.find((function(n){return n.guid===e[t].target.getAttribute("data-guid")}));i.intersecting=e[t].isIntersecting},r=0;r<e.length;r++)i(r)},attachScrollListeners:function(){window.addEventListener("scroll",this.sectionNavAutoScroll),window.addEventListener("scroll",this.onScrollMenuHighlight)},detachScrollListeners:function(){window.removeEventListener("scroll",this.sectionNavAutoScroll),window.removeEventListener("scroll",this.onScrollMenuHighlight)},sectionNavAutoScroll:function(){var e=this;this.$nextTick((function(){window.clearTimeout(e.isScrolling),e.isScrolling=setTimeout(function(){this.scrollFromMenu.navScroll=!1;var e=document.getElementsByClassName("active")[0],t=document.querySelector(".section-nav-ul");if("undefined"!==typeof e||"undefined"!==typeof t){var n=e.offsetTop,i=t.scrollTop+t.clientHeight,r=parseInt(window.getComputedStyle(e).getPropertyValue("margin-top"))+parseInt(window.getComputedStyle(e).getPropertyValue("margin-bottom"))+e.clientHeight;n-i>-r&&(t.scrollTop=n-t.clientHeight+r),n<t.scrollTop&&(t.scrollTop=n)}}.bind(e),100)}),0)}})},$c=Tc,Mc=(n("92c6"),Object(g["a"])($c,Zt,Qt,!1,null,"6e43986e",null)),Bc=Mc.exports;function Rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rc(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rc(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fc=Object(u["a"])("details"),Gc=Object(u["a"])("builder"),zc={name:"details-section",data:function(){return{loadDetailsLocked:!1,bufferedDetailsGuid:null,currentDetailsGuid:null,typeNameMap:{productCategory:"Category",productCatalog:"Catalog"}}},computed:Hc({},Gc.mapGetters(["displayedNode","dragInfo"]),{},Object(u["d"])(["contentLanguage"])),watch:{displayedNode:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.dragInfo.dragging){e.next=2;break}return e.abrupt("return");case 2:if(this.displayedNode.guid){e.next=5;break}return this.setDetails(void 0),e.abrupt("return");case 5:return this.bufferedDetailsGuid=this.displayedNode.guid,e.next=8,this.getDetails();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},components:{GenericDetails:Bc},methods:Hc({},Fc.mapMutations(["setDetails"]),{},Gc.mapMutations(["resetDisplayedNode"]),{getDetailsBase:function(){return this.axios.get("".concat(K[this.displayedNode.nodeType],"/").concat(this.displayedNode.guid,"/").concat(this.contentLanguage))},getDetails:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.loadDetailsLocked){e.next=8;break}return this.loadDetailsLocked=!0,this.currentDetailsGuid=this.displayedNode.guid,e.t0=this,e.next=6,this.getDetailsBase();case 6:e.t1=e.sent,e.t0.populateDetails.call(e.t0,e.t1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),populateDetails:function(e){this.loadDetailsLocked=!1,this.currentDetailsGuid===this.bufferedDetailsGuid?this.setDetails(e.data):this.getDetails()},entityDeleted:function(){this.setDetails(null),this.resetDisplayedNode(),this.$emit("deleted")},resurrected:function(e){this.$emit("resurrected",e)}})},Ac=zc,Wc=Object(g["a"])(Ac,Xt,Jt,!1,null,"76a15a7a",null),Uc=Wc.exports,Vc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{staticClass:"uc-undo-list",attrs:{name:"list-left",tag:"div"}},e._l(e.groups,(function(t,i,r){return n("div",{key:i,staticClass:"uc-undo",class:{latest:e.isLatest(e.groups,r)}},[n("span",{domProps:{innerHTML:e._s(e.caption(t))}}),n("button",{staticClass:"btn uc-undo__btn",on:{click:function(n){return e.undoLast(t)}}},[e._v(e._s(e.buttonCaption(t)))])])})),0)},qc=[],Yc=(n("a481"),{en:{definition:"<strong>{label}</strong> changed | The <strong>{label}</strong> of the {nodeType} was changed {count} times"},da:{},sv:{},de:{}}),Kc=function(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})},Xc={name:"undo",props:{undos:Array},computed:{groups:function(){return Kc(this.undos,"key")}},methods:{caption:function(e){var t=e[e.length-1].meta.undoMessage;if(t)return t;var n=e[e.length-1].meta.label,i=n[0].toUpperCase()+n.slice(1),r=e[e.length-1].meta.nodeType,o=r.replace(/([A-Z])/g," $1"),s=this.$i18n.locale,a=n.replace(/\s/g,"").toLowerCase();return void 0!==Yc[s][a]?this.$tc("customUndo.".concat(a),e.length,{label:i,count:e.length,nodeType:o}):this.$tc("global.undoCaption",e.length,{label:i,count:e.length,nodeType:o})},isLatest:function(e,t){return t===Object.getOwnPropertyNames(e).length-1},buttonCaption:function(e){return this.$tc("global.undo",e.length)},undoLast:function(e){this.$emit("undo",e[e.length-1])}}},Jc=Xc,Zc=(n("3447"),Object(g["a"])(Jc,Vc,qc,!1,null,null,null)),Qc=Zc.exports,el=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"dropdown"}},[e.shown?n("div",{staticClass:"container"},[n("a",{staticClass:"beta"},[e._v("BETA")]),n("div",{staticClass:"message"},[e._t("default")],2),n("a",{staticClass:"feedback",attrs:{href:"mailto:jrm@ucommerce.net",target:"_blank"}},[e._v("Feedback")]),n("button",{staticClass:"close",on:{click:e.hide}},[e._v("×")])]):e._e()])},tl=[],nl=n("fb4f"),il={name:"beta-banner",data:function(){var e=nl["a"].get("hideBetaBanner");return{shown:!e}},methods:{hide:function(){nl["a"].set("hideBetaBanner",!0),this.shown=!1}}},rl=il,ol=(n("8fe9"),Object(g["a"])(rl,el,tl,!1,null,"5b65ba2c",null)),sl=ol.exports;function al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?al(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):al(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ll=Object(u["a"])("builder"),ul={name:"catalogs",components:{CatBuilder:Kt,DetailsLoader:Uc,Undo:Qc,FormFeedback:_n,BetaBanner:sl},computed:cl({},ll.mapGetters(["sectionHeight","displayedNode","treeSections"]),{},Object(u["d"])(["undos","errorMessage"])),methods:cl({},ll.mapMutations(["setSectionHeight","setCurrentNodeName"]),{},Object(u["c"])(["undo","setErrorMessage","setNotFoundMessage"]),{selectParent:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.builder.selectParent({clearUndo:!1});case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),detailsChanged:function(e){e.save["name"]&&this.setCurrentNodeName(e.save["name"].value)},executeUndo:function(e){this.undo(e),e.undo["name"]&&this.setCurrentNodeName(e.undo["name"].value)},reload:function(e){var t=this.$refs.builder;t.selectNodeWithGuid(e)}}),mounted:function(){var e=this;this.axios.interceptors.response.use((function(e){return e}),(function(t){return 500===t.response.status?e.setErrorMessage(t.message):404===t.response.status&&e.setNotFoundMessage(),Promise.reject(t)}))}},dl=ul,fl=(n("992d"),Object(g["a"])(dl,y,w,!1,null,"c36078e0",null)),hl=fl.exports,pl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"catalogs"},[n("div",{staticClass:"catalogs-inner"},[n("section",{staticClass:"catalogs__builder-outer"},[n("cat-builder",{ref:"builder"})],1),n("section",{staticClass:"catalogs__listing-outer"},[n("div",{staticClass:"catalogs__listing-outer__right"},[n("language-selector")],1),n("list",{attrs:{id:"Products",metadataUrl:"/products/definitions/full",dataUrl:e.dataUrl,defaultColumnsConfiguration:{primaryImage:{width:"90px"},sku:{},name:{width:"250px"},definition:{},"eur 15 pct":{width:"343px"}}},on:{sortBy:e.sortBy}})],1),n("undo",{attrs:{undos:e.undos},on:{undo:e.executeUndo}}),e.errorMessage?n("form-feedback",{attrs:{type:"error"}},[e._v(e._s(e.errorMessage))]):e._e()],1)])},gl=[],ml=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list-wrapper"},[n("section",{directives:[{name:"show",rawName:"v-show",value:!e.entity,expression:"!entity"}],staticClass:"list-container"},[n("header",{staticClass:"list-header-area"},[n("section",{staticClass:"header-left"},[n("span",{staticClass:"list-heading"},[e._v(e._s(e.$tc("list.products")))]),e.totalCount>0?n("span",{staticClass:"item-count"},[e._v("("+e._s(e.totalCount)+")")]):e._e()]),n("section",{staticClass:"header-right"},[n("uc-button",{attrs:{text:"Create",primary:!0}}),n("settings",{attrs:{listId:e.id}})],1)]),n("list-table",{ref:"listTable",attrs:{list:e.currentList,totalCount:e.totalCount},on:{needsMoreData:e.loadMoreData,columnsDragged:e.columnsDragged,rowClick:e.openEntityEditor,sortBy:e.sortBy}})],1),e.entity?n("section",{staticClass:"details dialog"},[n("div",{staticClass:"details-content"},[n("header",{on:{click:function(t){e.entity=null}}},[n("arrow-forward",{staticClass:"back-icon"}),n("span",{staticClass:"back-label"},[e._v(e._s(e.$tc("global.back")))])],1),n("generic-details",{on:{deleted:e.deleteEntityAndCloseDetails}})],1)]):e._e()])},vl=[],bl=(n("8615"),n("75fc")),yl=(n("5df3"),n("f400"),function(e,t){var n=0;return e.map((function(e){return e.index="".concat(n++,"-").concat(t),e.show=!1,e}))}),wl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings-container"},[n("btn-round",{attrs:{size:"34px"},on:{click:e.toggleSettingsMenu}},[n("icon-more")],1),e.toggled?n("nav",{staticClass:"settings-menu",class:{show:e.toggled}},[n("div",{staticClass:"arrow-up"}),n("div",{staticClass:"settings-menu_search"},[n("uc-text-input",{staticClass:"settings-menu_search_input",attrs:{placeholder:"Search",label:"Search Properties",value:e.searchTerm},on:{input:e.onSearch}})],1),n("div",{staticClass:"settings-menu_properties-lists"},[n("simplebar",{staticClass:"settings__simplebar"},[""==e.searchTerm?n("div",[n("properties-list",{attrs:{title:"Visible",properties:e.shownProperties,onClickAll:!1,listId:e.listId}}),n("properties-list",{attrs:{title:"Not visible",properties:e.hiddenProperties,onClickAll:!0,listId:e.listId}})],1):e._e(),""!=e.searchTerm&&e.foundProperties.length>0?n("div",[n("properties-list",{attrs:{title:e.foundTitle,properties:e.foundProperties,onClickSingle:!0,listId:e.listId}})],1):e._e(),""!=e.searchTerm&&0==e.foundProperties.length?n("div",{staticClass:"no-results"},[e._v("No match found")]):e._e()])],1)]):e._e()],1)},Ol=[],Cl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"properties_list"},e._l(e.properties,(function(t){return n("div",{key:t.index,staticClass:"property"},[n("uc-checkbox",{attrs:{label:t.label,checked:t.show},on:{change:function(n){return e.toggleColumn(t)}}}),n("span",{staticClass:"property_definition"},[t.definitions.length>1?n("info-icon",{staticClass:"icon"},[e._v("\n              Part of definition family: "+e._s(t.definitions.toString())+"\n            ")]):n("span",[e._v(e._s(t.definitions[0]))])],1)],1)})),0)])},jl=[],xl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[n("g",{staticClass:"nc-icon-wrapper",attrs:{fill:"#111111"}},[n("path",{attrs:{d:"M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"}})]),n("title",[e._t("default")],2)])},Sl=[],_l={},kl=Object(g["a"])(_l,xl,Sl,!1,null,null,null),Pl=kl.exports;function Il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Il(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Il(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var El=Object(u["a"])("genericList"),Ll={name:"PropertiesList",components:{UcCheckbox:us,InfoIcon:Pl},props:{title:String,properties:Array,onClickAll:Boolean,onClickSingle:Boolean,listId:{type:String,required:!0}},methods:Dl({},El.mapMutations(["toggleListColumn"]),{toggleColumn:function(e){var t=this.onClickSingle?!e.show:this.onClickAll;this.toggleListColumn({id:this.listId,index:e.index,show:t})},getCheckClassObject:function(e){return{added:void 0!==e&&e.show}}})},Nl=Ll,Tl=(n("d1cf"),Object(g["a"])(Nl,Cl,jl,!1,null,"30b71bd4",null)),$l=Tl.exports;function Ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ml(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ml(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rl=Object(u["a"])("genericList"),Hl={name:"Settings",components:{BtnRound:cc,IconMore:hc,PropertiesList:$l,UcTextInput:Ot,simplebar:xe["a"]},props:{listId:{type:String,required:!0}},data:function(){return{toggled:!1,searchTerm:"",listData:null,settingsItem:null}},mounted:function(){this.settingsItem=this.$el},created:function(){this.listData=this.list(this.listId)},computed:Bl({},Rl.mapGetters(["list"]),{foundProperties:function(){var e=this;return this.listData.columns.filter((function(t){return t.label.toLowerCase().includes(e.searchTerm)}))},foundTitle:function(){return"Found ".concat(this.foundProperties.length," matches")},shownProperties:function(){return this.listData.columns.filter((function(e){return e.show}))},hiddenProperties:function(){return this.listData.columns.filter((function(e){return!e.show}))}}),methods:Bl({},Rl.mapActions(["applyDefaultColumnOrder"]),{toggleSettingsMenu:function(){this.toggled||window.addEventListener("click",this.closeSettingsFromOutside),this.searchTerm="",this.toggled=!this.toggled},selectDefault:function(){this.searchTerm="",this.applyDefaultColumnOrder({id:this.listId,currentList:this.listData})},onSearch:function(e){this.searchTerm=e.toLowerCase()},closeSettingsFromOutside:function(e){var t=this.settingsItem;e.target===t||t.contains(e.target)||(this.toggleSettingsMenu(),window.removeEventListener("click",this.closeSettingsFromOutside))}})},Fl=Hl,Gl=(n("6f4b"),Object(g["a"])(Fl,wl,Ol,!1,null,"6281cf54",null)),zl=Gl.exports,Al=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"body",staticClass:"list-table-container"},[n("section",{staticClass:"draggable-container"},[n("draggable",{ref:"draggable",staticClass:"draggable",attrs:{handle:".handle",animation:"150"},model:{value:e.shownColumns,callback:function(t){e.shownColumns=t},expression:"shownColumns"}},[e._l(e.shownColumns,(function(t){return n("div",{key:t.index,ref:"columnRefs",refInFor:!0,staticClass:"column",style:e.defaultColumnStyle,attrs:{"data-key":t.key},on:{dragstart:e.startDrag,dragend:e.toggleDragged}},[n("div",{staticClass:"sticky cell column_header handle",class:{sorted:e.isSortedByDescending(t.key)||e.isSortedByAscending(t.key)},on:{click:function(n){return e.sortBy(t.key)},mouseenter:function(n){e.hoveredColumn=t},mouseleave:function(t){e.hoveredColumn=null}}},[n("div",{directives:[{name:"truncate",rawName:"v-truncate"}],staticClass:"header-label"},[e._v(e._s(t.label))]),e.isSortedByDescending(t.key)?n("sortable-sorted-descending",{staticClass:"sortable"}):e._e(),e.isSortedByAscending(t.key)?n("sortable-sorted-ascending",{staticClass:"sortable"}):e._e(),n("resize-handler",{directives:[{name:"show",rawName:"v-show",value:!e.resizeObj.headerRef&&e.hoveredColumn&&e.hoveredColumn.key===t.key,expression:"!resizeObj.headerRef && hoveredColumn && hoveredColumn.key === column.key"}],staticClass:"resize-handler",attrs:{size:e.resizeObj.resizeWidth,minSize:e.resizeObj.minWidth,isVertical:!1},on:{resizeMousedown:function(n){return e.onMousedown(t.key)},emitDelta:function(t){return e.onMousemoveDebounced(t,250)},resizeMouseup:function(n){return e.onMouseup(t.key,"width")}}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.list.rows.length>0,expression:"list.rows.length > 0"}],staticClass:"column-rows"},[e._l(e.list.rows,(function(i){return n("div",{key:i.meta.entityId,staticClass:"cell",class:{hover:e.hoveredRow===i},on:{click:function(t){return e.$emit("rowClick",i)},mouseenter:function(t){e.hoveredRow=i},mouseleave:function(t){e.hoveredRow=null}}},[i[t.key]?[n(t.editor,{tag:"component",attrs:{name:t.label,compact:!0,definition:Object.assign({},i[t.key],{readonly:e.readonly})}})]:e._e()],2)})),n("div",{ref:"remaining",refInFor:!0,staticClass:"remaining items placeholder cell",style:e.remainingItemsStyle})],2)])})),n("div",{key:"spacerColumnRight",ref:"filler",style:e.fillerStyle},[n("div",{staticClass:"sticky cell filler column_header"},[e._t("default")],2),n("div",{staticClass:"column-rows"},[e._l(e.list.rows,(function(t){return n("div",{key:t.meta.entityGuid,staticClass:"cell filler",class:{hover:e.hoveredRow===t}})})),n("div",{staticClass:"remaining items placeholder cell filler",style:e.remainingItemsStyle})],2)])],2)],1),n("section",{directives:[{name:"show",rawName:"v-show",value:e.resizeObj.headerRef,expression:"resizeObj.headerRef"}],staticClass:"resize-box",style:e.resizeBoxStyle},[n("div",{staticClass:"resize-indicator",style:e.resizeIndicatorStyle})])])},Wl=[],Ul=n("310e"),Vl=n.n(Ul);function ql(e){var t=e.getBoundingClientRect(),n=t.top,i=t.bottom;return n<window.innerHeight&&i>=0}var Yl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sort-icon-container"},[n("svg",{staticClass:"sort-icon-container__up",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"}},[n("title",[e._v("Small triangle up - unsorted")]),n("g",{attrs:{"stroke-width":"1",fill:"#708790",stroke:"#708790"}},[n("polygon",{attrs:{fill:"none",stroke:"#708790","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:"12.5,10.5 8,5.5 3.5,10.5 "}})])]),n("svg",{staticClass:"sort-icon-container__down",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"}},[n("title",[e._v("Small triangle down - unsorted")]),n("g",{attrs:{"stroke-width":"1",fill:"#708790",stroke:"#708790"}},[n("polygon",{attrs:{fill:"none",stroke:"#708790","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:"12.5,5.5 8,10.5 3.5,5.5 "}})])])])},Kl=[],Xl=(n("ec20"),{}),Jl=Object(g["a"])(Xl,Yl,Kl,!1,null,"567d4d80",null),Zl=Jl.exports,Ql=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sort-icon-container"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12"}},[n("path",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#B4B4C6","stroke-linecap":"round","stroke-linejoin":"round",d:"M6.018 7.839L2.161 3.982m3.867 3.847l4.022-4.022"}})])])},eu=[],tu=(n("d502"),{}),nu=Object(g["a"])(tu,Ql,eu,!1,null,"4b84bd8a",null),iu=nu.exports,ru=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sort-icon-container"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12"}},[n("path",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#B4B4C6","stroke-linecap":"round","stroke-linejoin":"round",d:"M6.018 7.839L2.161 3.982m3.867 3.847l4.022-4.022"}})])])},ou=[],su={},au=Object(g["a"])(su,ru,ou,!1,null,"5155dde9",null),cu=au.exports;function lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function uu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lu(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lu(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var du=Object(u["a"])("genericList"),fu={name:"ListTable",components:uu({draggable:Vl.a,ResizeHandler:Gt},da,{SortableUnsorted:Zl,SortableSortedAscending:iu,SortableSortedDescending:cu}),data:function(){return{headerScrollTop:0,sortedBy:"",hoveredRow:void 0,hoveredColumn:void 0,resizeObj:{minWidth:100,defaultWidth:150,widthsApplied:!1,headerRef:null,resizeWidth:0,resizeOffset:0,fillerWidth:0,containerDefaultWidth:0}}},props:{list:{type:Object,required:!0},readonly:{type:Boolean,default:!0},totalCount:{type:Number,required:!0}},mounted:function(){window.addEventListener("scroll",Ho()(this.checkIfMoreItemsNeeded,250))},computed:{shownColumns:{get:function(){return this.list.columns.filter((function(e){return e.show}))},set:function(e){var t=this.list.columns.filter((function(e){return!e.show})),n=[].concat(Object(bl["a"])(e),Object(bl["a"])(t));this.$emit("columnsDragged",n),this.$forceUpdate()}},remainingItemsStyle:function(){var e=70,t=e*(this.totalCount-this.list.rows.length);return{height:"".concat(t,"px"),border:"none"}},defaultColumnStyle:function(){return{width:"".concat(this.resizeObj.defaultWidth,"px")}},resizeBoxStyle:function(){if(!this.resizeObj.headerRef)return{};var e=Math.floor(this.resizeObj.headerRef.getBoundingClientRect().height);return{height:"".concat(e,"px"),width:"".concat(this.resizeObj.resizeWidth,"px"),left:"".concat(this.resizeObj.resizeOffset,"px")}},resizeIndicatorStyle:function(){if(!this.resizeObj.headerRef)return{};var e=this.$refs.draggable.$el.getBoundingClientRect().height;return{height:"".concat(e,"px")}},fillerStyle:function(){return{width:"".concat(this.resizeObj.fillerWidth,"px")}}},methods:uu({},du.mapActions(["saveColumnClientConfiguration","getColumnsClientConfiguration"]),{sortBy:function(e){if(e===this.sortedBy){var t=this.toColumnKeyDescending(e);this.$emit("sortBy",t),this.sortedBy=t}else this.sortedBy===this.toColumnKeyDescending(e)?(this.$emit("sortBy",""),this.sortedBy=""):(this.$emit("sortBy",e),this.sortedBy=e)},toColumnKeyDescending:function(e){return"-".concat(e)},isSortedByDescending:function(e){return this.toColumnKeyDescending(e)===this.sortedBy},isSortedByAscending:function(e){return e===this.sortedBy},isNotSortedBy:function(e){return!this.isSortedByAscending(e)&&!this.isSortedByDescending(e)},startDrag:function(e){e.dataTransfer.setDragImage(new Image,0,0),this.toggleDragged(e)},toggleDragged:function(e){var t=e.target.childNodes;t.forEach((function(e){return e.classList.toggle("dragged_column_row")})),t[0].classList.remove("dragged_column_row"),t[0].classList.toggle("dragged_column_header")},checkIfMoreItemsNeeded:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.$refs.remaining,t.length&&ql(t[0])&&this.$emit("needsMoreData",this.section);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initColumnsConfiguration:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.resizeObj.widthsApplied){e.next=2;break}return e.abrupt("return");case 2:return this.resizeObj.widthsApplied=!0,this.resizeObj.containerDefaultWidth=this.calcContainerWidth(),e.next=6,this.getColumnsClientConfiguration({currentList:this.list});case 6:i=e.sent,this.applyConfiguration(t,n),this.applyConfiguration(i,n),this.resizeFiller();case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),applyConfiguration:function(e,t){var n=this,i=this.list;Object.keys(e).forEach((function(r){var o=n.$refs.columnRefs.find((function(e){return e.dataset.key===r}));if(o){var s=e[r][t];o.style.width=s,s&&(s="".concat(Math.floor(o.getBoundingClientRect().width),"px"),n.saveColumnClientConfiguration({currentList:i,columnKey:r,fieldName:t,fieldValue:s}))}}))},resizeFiller:function(){var e=this.resizeObj.containerDefaultWidth,t=this.calcContainerWidth(),n=this.calcHeadersWidth(),i=0,r=t-n;r>0&&(i=r),n+r>e&&(i=e-n),n>e&&(i=0),this.resizeObj.fillerWidth=i},calcContainerWidth:function(){return Math.floor(this.$refs.draggable.$el.getBoundingClientRect().width)},calcHeadersWidth:function(){return 0===this.$refs.columnRefs.length?0:this.$refs.columnRefs.map((function(e){return e.getBoundingClientRect().width})).reduce((function(e,t){return e+Math.floor(t)}))},calcHeaderWidth:function(){return this.resizeObj.headerRef?Math.floor(this.resizeObj.headerRef.getBoundingClientRect().width):0},calcResizeOffset:function(){if(!this.resizeObj.headerRef)return 0;var e=this.resizeObj.headerRef.getBoundingClientRect().left-this.$refs.body.getBoundingClientRect().left;return Math.floor(e)},onMousemoveDebounced:function(e,t){Ho()(this.onMousemove(e),t)},onMousedown:function(e){this.resizeObj.headerRef=this.$refs.columnRefs.find((function(t){return t.dataset.key===e})),this.resizeObj.resizeWidth=this.calcHeaderWidth(),this.resizeObj.resizeOffset=this.calcResizeOffset()},onMousemove:function(e){this.resizeObj.headerRef&&(this.resizeObj.resizeWidth+=e)},onMouseup:function(e,t){if(this.resizeObj.headerRef){var n=this.resizeObj.headerRef,i=this.list,r=n.style.width="".concat(this.resizeObj.resizeWidth,"px");this.saveColumnClientConfiguration({currentList:i,columnKey:e,fieldName:t,fieldValue:r}),this.resizeFiller(),this.resizeObj.headerRef=null}}}),watch:{list:function(){var e=this;this.$nextTick((function(){return e.checkIfMoreItemsNeeded()}))},shownColumns:function(){var e=this;this.resizeObj.widthsApplied&&this.$nextTick((function(){return e.resizeFiller()}))}}},hu=fu,pu=(n("2a72"),Object(g["a"])(hu,Al,Wl,!1,null,"33da5c3c",null)),gu=pu.exports,mu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"}},[n("g",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#1C254F","stroke-linecap":"round","stroke-linejoin":"round"}},[n("path",{attrs:{d:"M11.596 5.982L7.739 9.839m3.847-3.867L7.565 1.95M11 6H1"}})])])},vu=[],bu={},yu=Object(g["a"])(bu,mu,vu,!1,null,null,null),wu=yu.exports;function Ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Cu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ou(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ou(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ju(e){return Cs(e).reduce((function(e,t){return Cu({},e,Object(a["a"])({},t.definition.guid,t))}),{})}function xu(e,t){return t.map((function(t){var n=e[t.meta.definition.guid],i=Object.getOwnPropertyNames(n).reduce((function(e,i){var r=n[i],o=t[i],s=Object(a["a"])({},i,Cu({},r,{},o));return Cu({},e,{},s)}),{});return Cu({},i,{},{meta:t.meta})}))}n("28a5");var Su=n("768b"),_u=function(e,t,n){t=encodeURIComponent(t);var i=encodeURIComponent(n),r=e.split("#"),o=Object(Su["a"])(r,2),s=o[0],a=o[1],c=s.split("?"),l=Object(Su["a"])(c,2),u=l[0],d=l[1],f=(d||"").split("&").filter((function(e){return e&&""!==e})).map((function(e){return e.split("=")})).reduce((function(e,t){return e[t[0]]=t[1],e}),{});n?f[t]=i:delete f[t];var h=function(e,t,n){return t?"".concat(e).concat(n).concat(t):e},p=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])}))};return h(h(u,p(f).join("&"),"?"),a,"#")};function ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ku(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ku(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Iu=Object(u["a"])("genericList"),Du=Object(u["a"])("details"),Eu={name:"List",components:{UcButton:kt,Settings:zl,ListTable:gu,ArrowForward:wu,GenericDetails:Bc},props:{id:{type:String,required:!0},metadataUrl:{type:String,required:!0},dataUrl:{required:!0},defaultColumnsConfiguration:{type:Object,required:!1}},data:function(){return{isLoadingItems:!1,entity:void 0,totalCount:-1}},created:function(){this.addListId(this.id),this.setListLocalStorageKey({id:this.id,key:this.getLocalStorageKey("layout1")})},watch:{dataUrl:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.dataUrl){e.next=8;break}return e.next=3,this.loadMetadata();case 3:return this.$refs.listTable.initColumnsConfiguration(this.defaultColumnsConfiguration,"width"),e.next=6,this.loadData();case 6:t=e.sent,t&&this.setListRows({id:this.id,rows:xu(this.definitionsByDefinitionGuid,t)});case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),contentLanguage:function(){this.setDetails(this.entity)}},computed:Pu({},Iu.mapGetters(["lists"]),{},Object(u["d"])(["contentLanguage","definitionsByDefinitionGuid"]),{currentList:function(){return this.lists[this.id]}}),methods:Pu({},Iu.mapMutations(["addListId","setListLocalStorageKey","setListLastModified","setListColumns","setListRows","addListRows"]),{},Object(u["e"])(["setDefinitionsByDefinitionGuid"]),{},Du.mapMutations(["setDetails"]),{},Iu.mapActions(["applyColumnOrder"]),{loadMetadata:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.currentList.lastModified,e.prev=1,e.next=4,this.axios.get(this.metadataUrl,{headers:{"If-Modified-Since":t}});case 4:return n=e.sent,this.setDefinitionsByDefinitionGuid(ju(n.data)),this.setListLastModified({id:this.id,lastModified:n.headers["last-modified"]}),i=this.groupDefinitionFields(n.data),r=yl(i,Ae()),this.setListColumns({id:this.id,columns:r,defaultColumnNames:Object.keys(this.defaultColumnsConfiguration),initDefaultColumns:!0}),this.applyColumnOrder({id:this.id,currentList:this.currentList}),e.abrupt("return",n.data);case 14:if(e.prev=14,e.t0=e["catch"](1),e.t0.response&&304===e.t0.response.status){e.next=18;break}throw e.t0;case 18:case"end":return e.stop()}}),e,this,[[1,14]])})));function t(){return e.apply(this,arguments)}return t}(),loadData:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isLoadingItems){e.next=2;break}return e.abrupt("return");case 2:return this.isLoadingItems=!0,e.prev=3,e.next=6,this.axios.get(this.dataUrl);case 6:return t=e.sent,n=this.getFieldsExceptOf(t.data,""),this.totalCount=+t.headers["x-total-count"]||0,this.setListRows({id:this.id,rows:n}),this.$nextTick((function(){return i.$refs.listTable.checkIfMoreItemsNeeded()})),e.abrupt("return",t.data);case 12:return e.prev=12,this.isLoadingItems=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[3,,12,15]])})));function t(){return e.apply(this,arguments)}return t}(),loadMoreData:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,i,r,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isLoadingItems){e.next=2;break}return e.abrupt("return");case 2:if(!(this.currentList.rows.length>=this.totalCount)){e.next=4;break}return e.abrupt("return");case 4:return this.isLoadingItems=!0,e.prev=5,t=_u(this.dataUrl,"limit",100),t=_u(t,"startAt",this.currentList.rows.length),e.next=10,this.axios.get(t);case 10:return n=e.sent,i=this.getFieldsExceptOf(n.data,""),this.totalCount=+n.headers["x-total-count"]||0,r=xu(this.definitionsByDefinitionGuid,i),this.addListRows({id:this.id,rows:r}),this.$nextTick((function(){return o.$refs.listTable.checkIfMoreItemsNeeded()})),e.abrupt("return",n.data);case 17:return e.prev=17,this.isLoadingItems=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[5,,17,20]])})));function t(){return e.apply(this,arguments)}return t}(),sortBy:function(e){this.$emit("sortBy",e)},columnsDragged:function(e){this.setListColumns({id:this.id,columns:e})},groupDefinitionFields:function(e){var t=this,n=new Map;return e.forEach((function(e){var i=t.getFieldsExceptOf(e,"");i.forEach((function(t){var i=Pu({},t);n.has(i.key)?i=n.get(i.key):i.definitions=[];var r=e.definition.name;r&&i.definitions.push(r),n.set(i.key,i)}))})),Object(bl["a"])(n.values())},getFieldsExceptOf:function(e,t){var n=Object.keys(e).filter((function(e){return e!==t})),i=n.reduce((function(t,n){return Pu({},t,Object(a["a"])({},n,e[n]))}),{});return n.forEach((function(e){i[e].key=e})),Object.values(i)},getLocalStorageKey:function(e){return"uc-list-setting-".concat(this.id,"-").concat(e)},openEntityEditor:function(e){this.entity=e,this.setDetails(e)},deleteEntityAndCloseDetails:function(e){var t=this.currentList.rows.filter((function(t){return t.meta.entityGuid!==e}));this.setListRows({id:this.id,rows:t}),this.totalCount=t.length,this.openEntityEditor(null)}})},Lu=Eu,Nu=(n("a946"),Object(g["a"])(Lu,ml,vl,!1,null,"17c056f4",null)),Tu=Nu.exports;function $u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$u(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bu=Object(u["a"])("builder"),Ru={name:"products",components:{CatBuilder:Kt,LanguageSelector:nc,List:Tu,Undo:Qc,FormFeedback:_n},data:function(){return{dataUrl:null}},watch:{displayedNode:function(){this.setUrl()},contentLanguage:function(){this.setUrl()}},computed:Mu({},Bu.mapGetters(["displayedNode"]),{},Object(u["d"])(["contentLanguage","undos","errorMessage","languages","contentLanguage"])),methods:Mu({},Object(u["c"])(["undo"]),{setUrl:function(){void 0!==this.displayedNode&&void 0!==this.displayedNode.nodeType&&(this.dataUrl=this.getUrl())},getUrl:function(e){return"/".concat(K[this.displayedNode.nodeType],"/").concat(this.displayedNode.guid,"/products/").concat(this.contentLanguage,"?sort=").concat(e)},executeUndo:function(e){this.undo(e)},sortBy:function(e){this.dataUrl=this.getUrl(e)}})},Hu=Ru,Fu=(n("c9b2"),Object(g["a"])(Hu,pl,gl,!1,null,"5d24d4fe",null)),Gu=Fu.exports;r["a"].use(b["a"]);var zu,Au,Wu=new b["a"]({routes:[{path:"/catalogs",name:"catalogs",component:hl},{path:"/products",name:"products",component:Gu}]}),Uu="setSystemInfo",Vu="setContentLanguage",qu="setUiLanguage",Yu="addUndo",Ku="removeUndo",Xu="clearUndos",Ju="setErrorMessage",Zu="setDefinitionsByDefinitionGuid",Qu="setDetails",ed="setPriceGroups",td="updateDetails",nd="setValidationErrors",id="clearValidationErrors",rd=(n("3b2b"),function(e,t){for(var n in t){var i=e[n];if(i){var r=t[n],o=r.value,s=r.selected,c=i.validation;if(c){var l=[];if(c.required&&void 0===o&&!s&&l.push(c.errorMessage||"'".concat(i.label,"' must not be empty.")),c.regex&&!new RegExp(c.regex).test(o)&&l.push(c.errorMessage||"'".concat(i.label,"' is not in a valid format.")),l.length)return Object(a["a"])({},n,l)}}}return null}),od=2e4,sd=1e4,ad=function(e,t,n){n=n||{},e("details/".concat(nd),{save:t,errors:n}),Object.keys(n).length>0?window.setTimeout((function(){return e("details/".concat(id))}),sd):e("details/".concat(id))},cd={save:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var i,r,o,s,a,c,l,u,d,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.commit,r=t.state,o=t.rootState,s=n.save,a=n.undo,c=n.meta,i("details/".concat(td),s),l=rd(r.details.details,s),!l){e.next=6;break}return e.abrupt("return",ad(i,s,l));case 6:return e.prev=6,e.next=9,this._vm.axios.patch("".concat(K[c.nodeType],"/").concat(c.nodeGuid,"/").concat(c.contentLanguage),s);case 9:if(u=e.sent,!s.hasOwnProperty("definition")){e.next=15;break}return e.next=13,this._vm.axios.get("".concat(K[c.nodeType],"/").concat(c.nodeGuid,"/").concat(c.contentLanguage));case 13:d=e.sent,"product"===n.meta.nodeType?(f=xu(o.definitionsByDefinitionGuid,[d.data]),i("details/".concat(Qu),f[0])):i("details/".concat(Qu),d.data);case 15:return e.next=17,ad(i,s,u.data);case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](6),!e.t0.response||400!==e.t0.response.status){e.next=25;break}return e.abrupt("return",ad(i,s,e.t0.response.data));case 25:throw e.t0;case 26:a&&(i(Yu,n),window.setTimeout((function(){i("removeUndo",n)}),od));case 27:case"end":return e.stop()}}),e,this,[[6,19]])})));function t(t,n){return e.apply(this,arguments)}return t}(),moveCat:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var i,r,o,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,r=n.save,o=n.undo,s=n.meta,e.prev=2,e.next=5,this._vm.axios.patch("".concat(K[s.nodeType],"/").concat(s.nodeGuid,"/").concat(s.contentLanguage),r);case 5:a=e.sent,ad(i,r,a.data),e.next=16;break;case 9:if(e.prev=9,e.t0=e["catch"](2),!e.t0.response||400!==e.t0.response.status){e.next=15;break}return e.abrupt("return",ad(i,r,e.t0.response.data));case 15:throw e.t0;case 16:o&&(i(Yu,n),window.setTimeout((function(){i("removeUndo",n)}),od));case 17:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(t,n){return e.apply(this,arguments)}return t}(),undo:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var i,r,o,s,a,c,l,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.commit,r=t.state,o=t.rootState,s=n.undo,a=n.meta,i("details/".concat(td),s),c=rd(r.details.details,s),!c){e.next=6;break}return e.abrupt("return",ad(i,s,c));case 6:return i(Ku,n),e.prev=7,e.next=10,this._vm.axios.patch("".concat(K[a.nodeType],"/").concat(a.nodeGuid,"/").concat(a.contentLanguage),s);case 10:if(l=e.sent,!s.hasOwnProperty("definition")){e.next=16;break}return e.next=14,this._vm.axios.get("".concat(K[a.nodeType],"/").concat(a.nodeGuid,"/").concat(a.contentLanguage));case 14:u=e.sent,"product"===n.meta.nodeType?(d=xu(o.definitionsByDefinitionGuid,[u.data]),i("details/".concat(Qu),d[0])):i("details/".concat(Qu),u.data);case 16:ad(i,s,l.data),e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](7),!e.t0.response||400!==e.t0.response.status){e.next=25;break}return e.abrupt("return",ad(i,s,e.t0.response.data));case 25:throw e.t0;case 26:a.undoAction&&a.undoAction();case 27:case"end":return e.stop()}}),e,this,[[7,19]])})));function t(t,n){return e.apply(this,arguments)}return t}(),delete:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var i,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,r=n.undo,o=n.meta,r&&i(Yu,n),e.next=5,this._vm.axios.delete("".concat(K[o.nodeType],"/").concat(o.nodeGuid));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),setErrorMessage:function(e,t){var n=e.commit;n(Ju,"Something went wrong on the web server. ".concat(t)),window.setTimeout((function(){n(Ju,null)}),sd)},setNotFoundMessage:function(e){var t=e.commit;t(Ju,"A resource we were looking for was not found."),window.setTimeout((function(){t(Ju,null)}),sd)}},ld=cd,ud=(zu={},Object(a["a"])(zu,Uu,(function(e,t){e.systemInfo=t})),Object(a["a"])(zu,Vu,(function(e,t){e.contentLanguage=t})),Object(a["a"])(zu,qu,(function(e,t){e.uiLanguage=t})),Object(a["a"])(zu,Yu,(function(e,t){e.undos.push(t)})),Object(a["a"])(zu,Xu,(function(e){e.undos=e.undos.filter((function(e){return e.meta.survivesNodeChange}))})),Object(a["a"])(zu,Ku,(function(e,t){e.undos=e.undos.filter((function(e){return e!==t}))})),Object(a["a"])(zu,Ju,(function(e,t){e.errorMessage=t})),Object(a["a"])(zu,Zu,(function(e,t){e.definitionsByDefinitionGuid=t})),zu),dd=ud,fd={systemInfo:function(e){return e.systemInfo},languages:function(e){return 0===e.systemInfo.languages.length?e.systemInfo.languages:e.systemInfo.languages.map((function(e){return{text:e.name,value:e.cultureCode}}))},uiLanguage:function(e){return e.uiLanguage},contentLanguage:function(e){return e.contentLanguage},undos:function(e){return e.undos},errorMessage:function(e){return e.errorMessage},definitionsByDefinitionGuid:function(e){return e.definitionsByDefinitionGuid}},hd=fd,pd={},gd=pd,md="setSectionsInTree",vd="selectNode",bd="resetDisplayedNode",yd="setSectionWidth",wd="setSectionHeight",Od="setDragInfo",Cd="endDrag",jd="setDragSectionGuid",xd="moveDraggedNode",Sd="setSelectedStore",_d="setStores",kd="addItemsToSectionInTree",Pd="setCurrentNodeName",Id=function(e){return Object.keys(e).map((function(t){return e[t]}))},Dd=function(e,t){var n=e.reduce((function(e,n){return e[t(n)]=n,e}),{});return Id(n)},Ed=function(e){return Dd(e,(function(e){return e.meta.entityGuid}))},Ld=function(e){return Dd(e,(function(e){return e.guid}))};function Nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nd(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nd(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $d,Md,Bd=(Au={},Object(a["a"])(Au,md,(function(e,t){var n=t.position,i=t.cat,r=t.elements,o=t.categoriesCount;n<0&&(e.treeSections=[]);var s=Td({categories:r,position:n,endOfList:r.length>=o||0===r.length,categoriesCount:o},i);e.displayedNode.hasChildren=s.categories.length>0,n!==e.treeSections.length?(e.treeSections[n]=s,e.treeSections=e.treeSections.slice(0,n+1)):e.treeSections.push(s)})),Object(a["a"])(Au,kd,(function(e,t){var n=t.cat,i=t.elements,r=t.categoriesCount;n.categoriesCount=r,n.categories=Ld([].concat(Object(bl["a"])(n.categories),Object(bl["a"])(i))),n.endOfList=n.categories.length>=r||0===i.length})),Object(a["a"])(Au,vd,(function(e,t){var n=t.parentGuid,i=t.catGuid,r=n?e.treeSections.find((function(e){return e.guid===n})):e.treeSections[0];r.categories.forEach((function(t){t.guid===i?(t.selected=!0,t.displaying=!0,e.displayedNode!==t&&(e.displayedNode.displaying=!1),e.displayedNode=t):t.selected=!1}))})),Object(a["a"])(Au,bd,(function(e){e.displayedNode={}})),Object(a["a"])(Au,yd,(function(e,t){e.sectionWidth=t})),Object(a["a"])(Au,wd,(function(e,t){e.sectionHeight=t})),Object(a["a"])(Au,Od,(function(e,t){e.dragInfo=t})),Object(a["a"])(Au,jd,(function(e,t){e.dragInfo.currentSectionGuid=t})),Object(a["a"])(Au,Cd,(function(e){e.dragInfo.dragging=!1})),Object(a["a"])(Au,xd,(function(e,t){var n=t.parentGuid,i=t.newIndex,r=e.treeSections.find((function(t){return t.guid===e.dragInfo.parentGuid})),o=e.treeSections.find((function(e){return e.guid===n}));(o||r)&&(o?r?-1===i?o.categories.push(r.categories.splice(e.dragInfo.catIndex,1)[0]):o.categories.splice(i,0,r.categories.splice(e.dragInfo.catIndex,1)[0]):-1===i?o.categories.push(e.dragInfo.node):o.categories.splice(i,0,e.dragInfo.node):r.categories.splice(e.dragInfo.catIndex,1))})),Object(a["a"])(Au,Sd,(function(e,t){e.selectedStore=t.guid})),Object(a["a"])(Au,_d,(function(e,t){e.stores=t})),Object(a["a"])(Au,Pd,(function(e,t){e.displayedNode.name=t})),Au),Rd=Bd,Hd={treeSections:function(e){return e.treeSections},sectionWidth:function(e){return e.sectionWidth},sectionHeight:function(e){return e.sectionHeight},dragInfo:function(e){return e.dragInfo},displayedNode:function(e){return e.displayedNode},displayedNodePosition:function(e){var t={section:0,index:0},n=e.treeSections.length;while(n--){var i=e.treeSections[n].categories.findIndex((function(e){return e.displaying}));if(i>-1)return t.section=n,t.index=i,t}return t},selectedCatalog:function(e){return e.treeSections[0]?e.treeSections[0].categories.find((function(e){return e.selected})):{}},selectedStore:function(e){return e.selectedStore},stores:function(e){return e.stores}},Fd=Hd,Gd={state:{treeSections:[],sectionWidth:242,sectionHeight:180,displayedNode:{},dragInfo:{node:null,parent:null,index:NaN,initPosition:{},dragging:!1},stores:[],selectedStore:null,undos:[]},getters:Fd,mutations:Rd,actions:gd,strict:!1},zd={changeContentLanguage:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var i,r,o,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.commit,r=t.state,o=t.rootState,this.details||this.details.meta){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this._vm.axios.get("".concat(K[r.details.meta.nodeType],"/").concat(r.details.meta.entityGuid,"/").concat(n));case 5:s=e.sent,"product"===r.details.meta.nodeType?(a=xu(o.definitionsByDefinitionGuid,[s.data]),i(Qu,a[0])):i(Qu,s.data);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},Ad=zd,Wd=($d={},Object(a["a"])($d,Qu,(function(e,t){e.details=t})),Object(a["a"])($d,ed,(function(e,t){e.priceGroups=t})),Object(a["a"])($d,td,(function(e,t){for(var n in t){var i=e.details[n];i&&(i.value=t[n].value,i.selected=t[n].selected,i.mediaUrl=t[n].mediaUrl,i.mediaName=t[n].mediaName)}})),Object(a["a"])($d,nd,(function(e,t){var n=t.errors,i=t.save;for(var o in e.validationErrors=n,e.details)if(i[o]){var s=e.details[o];s===Object(s)&&r["a"].set(s,"errors",null)}for(var a in n){var c=e.details[a];c===Object(c)&&r["a"].set(c,"errors",n[a])}})),Object(a["a"])($d,id,(function(e){e.validationErrors={}})),$d),Ud=Wd,Vd={details:function(e){return e.details},priceGroups:function(e){return e.priceGroups.map((function(e){return{text:e.name,value:e.guid}}))},validationErrors:function(e){return e.validationErrors}},qd=Vd,Yd={state:{details:{},priceGroups:[],validationErrors:{}},getters:qd,mutations:Ud,actions:Ad,strict:!1},Kd={},Xd=Kd,Jd="setSectionsInTree",Zd="selectNode",Qd="resetDisplayedNode",ef="setSectionWidth",tf="setSectionHeight",nf="addItemsToSectionInTree",rf="setSelectedItems",of="toggleSelectedItem";function sf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sf(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sf(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cf,lf=(Md={},Object(a["a"])(Md,Jd,(function(e,t){var n=t.position,i=t.cat,r=t.elements,o=t.allElements,s=t.categoriesCount;n<0&&(e.treeSections=[]);var a=af({categories:r,allCategories:o,position:n,endOfList:r.length>=s||0===r.length,categoriesCount:s},i);e.displayedNode.hasChildren=a.categories.length>0,n!==e.treeSections.length?(e.treeSections[n]=a,e.treeSections=e.treeSections.slice(0,n+1)):e.treeSections.push(a)})),Object(a["a"])(Md,nf,(function(e,t){var n=t.cat,i=t.elements,r=t.categoriesCount;n.categoriesCount=r,n.categories=[].concat(Object(bl["a"])(n.categories),Object(bl["a"])(i)),n.endOfList=n.categories>=r||0===i.length})),Object(a["a"])(Md,Zd,(function(e,t){var n=t.parentGuid,i=t.catGuid,r=n?e.treeSections.find((function(e){return e.guid===n})):e.treeSections[0];r.categories.forEach((function(t){t.guid===i?(t.selected=!0,t.displaying=!0,e.displayedNode!==t&&(e.displayedNode.displaying=!1),e.displayedNode=t):t.selected=!1}))})),Object(a["a"])(Md,Qd,(function(e){e.displayedNode={}})),Object(a["a"])(Md,ef,(function(e,t){e.sectionWidth=t})),Object(a["a"])(Md,tf,(function(e,t){e.sectionHeight=t})),Object(a["a"])(Md,rf,(function(e,t){e.selectedItems=t.filter((function(e){return e&&""!==e}))})),Object(a["a"])(Md,of,(function(e,t){e.selectedItems.find((function(e){return e===t}))?e.selectedItems=e.selectedItems.filter((function(e){return e!==t})):e.selectedItems.push(t)})),Md),uf=lf,df={treeSections:function(e){return e.treeSections},sectionWidth:function(e){return e.sectionWidth},sectionHeight:function(e){return e.sectionHeight},displayedNode:function(e){return e.displayedNode},displayedNodePosition:function(e){var t={section:0,index:0},n=e.treeSections.length;while(n--){var i=e.treeSections[n].categories.findIndex((function(e){return e.displaying}));if(i>-1)return t.section=n,t.index=i,t}return t},selectedCatalog:function(e){return e.treeSections[0]?e.treeSections[0].categories.find((function(e){return e.selected})):{}},selectedItems:function(e){return e.selectedItems}},ff=df,hf={state:{treeSections:[],selectedItems:[],sectionWidth:280,sectionHeight:320,displayedNode:{},undos:[]},getters:ff,mutations:uf,actions:Xd,strict:!1},pf="addListId",gf="setListLocalStorageKey",mf="setListColumns",vf="setListRows",bf="addListRows",yf="setListLastModified",wf="toggleListColumn",Of="toggleListColumns",Cf={getLocalStorageData:function(e){var t=Hi.GenericList,n=e.localStorageKey;return{defaultOrder:nl["a"].getJSON("".concat(n,"-").concat(t.DefaultOrder))||[],currentOrder:nl["a"].getJSON("".concat(n,"-").concat(t.CurrentOrder))||[],configuration:nl["a"].getJSON("".concat(n,"-").concat(t.Configuration))||{}}},setLocalStorageKeyData:function(e,t,n){var i=e.localStorageKey;nl["a"].set("".concat(i,"-").concat(t),JSON.stringify(n))},saveColumnOrder:function(e){var t=e.columns.filter((function(e){return e.show})).map((function(e){return e.key}));if(0!==t.length){var n=e.localStorageKey;n&&this.setLocalStorageKeyData(e,Hi.GenericList.CurrentOrder,t)}},setDefaultColumnOrder:function(e,t,n){var i=[];i=0!==t.length?t:e.columns.slice(0,n).map((function(e){return e.key})),this.setLocalStorageKeyData(e,Hi.GenericList.DefaultOrder,i)},mergeColumns:function(e,t){var n=e.columns.filter((function(e){return!t.includes(e.key)})),i=e.columns.filter((function(e){return t.includes(e.key)}));return i=this.orderColumns(i,t),[].concat(Object(bl["a"])(i),Object(bl["a"])(n))},orderColumns:function(e,t){var n=[];return t.forEach((function(t){var i=e.find((function(e){return e.key===t}));i&&n.push(i)})),n}},jf=(cf={},Object(a["a"])(cf,pf,(function(e,t){e.lists[t]={id:t,localStorageKey:null,columns:[],rows:[],lastModified:null}})),Object(a["a"])(cf,gf,(function(e,t){var n=t.id,i=t.key;e.lists[n].localStorageKey=i})),Object(a["a"])(cf,mf,(function(e,t){var n=t.id,i=t.columns,r=t.defaultColumnNames,o=void 0===r?[]:r,s=t.initDefaultColumns,a=void 0!==s&&s,c=e.lists[n];c.columns=i,Cf.saveColumnOrder(c),a&&Cf.setDefaultColumnOrder(c,o,e.defaultColumnsCount)})),Object(a["a"])(cf,vf,(function(e,t){var n=t.id,i=t.rows;e.lists[n].rows=i})),Object(a["a"])(cf,bf,(function(e,t){var n=t.id,i=t.rows;e.lists[n].rows=Ed(e.lists[n].rows.concat(i))})),Object(a["a"])(cf,yf,(function(e,t){var n=t.id,i=t.lastModified;e.lists[n].lastModified=i})),Object(a["a"])(cf,wf,(function(e,t){var n=t.id,i=t.index,r=t.show;e.lists[n].columns.find((function(e){return e.index===i})).show=r,Cf.saveColumnOrder(e.lists[n])})),Object(a["a"])(cf,Of,(function(e,t){var n=t.id,i=t.columnNames,r=e.lists[n];r.columns.filter((function(e){return i.includes(e.key)})).forEach((function(e){e.show=!0})),r.columns.filter((function(e){return!i.includes(e.key)})).forEach((function(e){e.show=!1})),Cf.saveColumnOrder(r)})),cf),xf=jf,Sf={list:function(e){return function(t){return e.lists[t]}},lists:function(e){return e.lists}},_f=Sf,kf={applyColumnOrder:function(e,t){var n=e.commit,i=t.id,r=t.currentList,o=[],s=[],a=Cf.getLocalStorageData(r);0!==a.currentOrder.length?(o=Cf.mergeColumns(r,a.currentOrder),s=a.currentOrder):(o=Cf.mergeColumns(r,a.defaultOrder),s=a.defaultOrder),n("setListColumns",{id:i,columns:o}),n("toggleListColumns",{id:i,columnNames:s})},applyDefaultColumnOrder:function(e,t){var n=e.dispatch,i=t.id,r=t.currentList;Cf.setLocalStorageKeyData(r,Hi.GenericList.CurrentOrder,[]),n("applyColumnOrder",{id:i,currentList:r})},saveColumnClientConfiguration:function(e,t){e.dispatch;var n=t.currentList,i=t.columnKey,r=t.fieldName,o=t.fieldValue,s=Cf.getLocalStorageData(n).configuration;s[i]||(s[i]={}),s[i][r]=o,Cf.setLocalStorageKeyData(n,Hi.GenericList.Configuration,s)},getColumnsClientConfiguration:function(e,t){e.dispatch;var n=t.currentList;return Cf.getLocalStorageData(n).configuration}},Pf=kf,If={state:{lists:{},defaultColumnsCount:10},mutations:xf,getters:_f,actions:Pf},Df=n("e37d");function Ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Lf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ef(n,!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ef(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}r["a"].use(u["b"]);var Nf=new u["b"].Store({state:{systemInfo:{languages:[]},contentLanguage:void 0,uiLanguage:void 0,undos:[],errorMessage:void 0,definitionsByDefinitionGuid:{}},getters:hd,mutations:dd,actions:ld,modules:{builder:Lf({namespaced:!0},Gd),details:Lf({namespaced:!0},Yd),navigator:Lf({namespaced:!0},hf),genericList:Lf({namespaced:!0},If)},strict:!1}),Tf={defaultPlacement:"right-end",trigger:"click hover focus",defaultHideOnTargetClick:!0};r["a"].use(Df["a"],Tf);var $f=n("bc3a"),Mf=n.n($f),Bf=n("a925"),Rf={en:{catalogs:"Catalogs",stores:"Stores",add:"Add",save:"Save",back:"Back",create:"Create",cancel:"Cancel",done:"Done",change:"Change",edit:"Edit",for:"for",delete:"Delete",deleteConfirm:"Yes, delete this",wasDeleted:"was deleted",name:"name",undo:"Undo | Undo latest",undoCaption:"Changes were saved to <strong>{label}</strong> | Changes were saved to <strong>{label}</strong> | {count} changes were saved to <strong>{label}</strong>",search:"Search",searchNoResults:"No matches found",selectPlaceholder:"Select an option",selectNoOptionsPlaceholder:"No options available",setHoursAndMinutes:"Set hours and minutes",yes:"Yes",no:"No"},da:{},sv:{},de:{}},Hf={en:{by:"by",created:"Created",modified:"Modified",definition:"Definition",basicInformation:"Basic information",media:"Media",careful:"Careful!",noDefinition:"No definition selected",editName:"Edit name",changeDefinition:"Change definition",changeSKU:"Change SKU",delete:"Delete {label}",rename:"Rename {label}"},da:{},sv:{},de:{}},Ff={en:{title:"Add new {nodeType}",emptyNotAllowed:"{field} can not be empty"},da:{},sv:{},de:{}},Gf={en:{home:"Home",media:"Media",itemsSelected:"No items selected | 1 item selected | {count} items selected"},da:{},sv:{},de:{}},zf={en:{selectedItemsSummary:"Nothing selected | {selectedName} | {selectedName} and {count} others selected"},da:{},sv:{},de:{}},Af={en:{products:"Products"},da:{},sv:{},de:{}},Wf={en:{global:Rf.en,details:Hf.en,createNode:Ff.en,contentNavigator:Gf.en,ucImagePicker:zf.en,customUndo:Yc.en,list:Af.en},da:{global:Rf.da,details:Hf.da,createNode:Ff.da,contentNavigator:Gf.da,ucImagePicker:zf.da,customUndo:Yc.da},sv:{global:Rf.sv,details:Hf.sv,createNode:Ff.sv,contentNavigator:Gf.sv,ucImagePicker:zf.sv,customUndo:Yc.sv},de:{global:Rf.de,details:Hf.de,createNode:Ff.de,contentNavigator:Gf.de,ucImagePicker:zf.de,customUndo:Yc.de}};function Uf(e,t,n){e.classList.add("truncated-el"),e.offsetWidth<e.scrollWidth&&(e.title=e.innerText)}var Vf={componentUpdated:function(e,t,n){Uf(e,t,n)},inserted:function(e,t,n){Uf(e,t,n)}},qf=n("30b2");r["a"].config.productionTip=!1;var Yf=Mf.a.create({baseURL:"/ucommerceapi/v2/"});r["a"].prototype.axios=Yf,r["a"].use(Bf["a"]);var Kf=new Bf["a"]({locale:"en",fallbackLocale:"en",messages:Wf});r["a"].filter("format",(function(e,t,n){return e?(e=e.toString(),Object(qf["a"])(e,t,qf["b"][n])):""})),r["a"].directive("truncate",Vf),new r["a"]({router:Wu,store:Nf,i18n:Kf,render:function(e){return e(v)}}).$mount("#app")},"1e86":function(e,t,n){"use strict";var i=n("e272"),r=n.n(i);r.a},"218e":function(e,t,n){},"23fb":function(e,t,n){"use strict";var i=n("509e"),r=n.n(i);r.a},"26c7":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"field-feedback",class:e.classes},[e._v(e._s(e.value))])},r=[],o=n("a72b"),s={name:"field-feedback",props:{type:{type:String,default:o["b"]},value:String},computed:{classes:function(){return{info:this.type===o["b"],warning:this.type===o["c"],error:this.type===o["a"]}}}},a=s,c=(n("bada"),n("2877")),l=Object(c["a"])(a,i,r,!1,null,"0a989314",null);t["a"]=l.exports},"281f":function(e,t,n){"use strict";var i=n("ad7e"),r=n.n(i);r.a},2821:function(e,t,n){"use strict";var i=n("f907"),r=n.n(i);r.a},"2a72":function(e,t,n){"use strict";var i=n("76f9"),r=n.n(i);r.a},"2ba6":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-datetime-picker",class:e.getEditorClassObject},[e.compact&&e.definition.value?[n("label",[e._v(e._s(e.dateFormatter(e.definition.value))+", "+e._s(e.timeFormatter(e.timeData)))])]:e._e(),e.compact?e._e():[n("div",{staticClass:"input-fields-container"},[n("div",{staticClass:"input-field-container"},[e.definition.label?n("label",{staticClass:"input-label",class:{error:e.definition.error}},[e._v(e._s(e.definition.label))]):e._e(),n("div",{staticClass:"input-field-wrapper"},[n("date-picker",{staticClass:"date-picker",attrs:{disabled:e.definition.readonly,value:e.definition.value,format:e.dateFormatter,placeholder:e.definition.label,"full-month-name":!0,"calendar-class":"calendar","wrapper-class":"wrapper"},on:{selected:e.changeDate}})],1)]),n("div",{staticClass:"input-field-container input-spacer"},[e.definition.label?n("label",{staticClass:"input-label",class:{error:e.definition.error}},[e._v(e._s(e.definition.label))]):e._e(),n("div",{staticClass:"input-field-wrapper"},[n("time-picker",{staticClass:"time-picker",attrs:{disabled:e.definition.readonly,"hide-clear-button":!0,value:e.timeData,format:"HH:mm"},on:{change:e.changeTime}})],1)])]),e._l(e.definition.errors,(function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})}))]],2)},r=[],o=(n("7f7f"),n("6b54"),n("f576"),n("fa33")),s=n("8a7e"),a=n("30b2"),c=n("68f1"),l=n("26c7"),u={name:"uc-date-time-picker",props:{name:String,definition:{type:Object,default:function(){return{}}},compact:{type:Boolean,default:!1},format:{type:String,default:"DD. MMMM YYYY"},locale:{type:String,default:"en"},label:String},computed:{timeData:function(){var e=this.getDate();return e?{HH:e.getHours().toString().padStart(2,"0"),mm:e.getMinutes().toString().padStart(2,"0")}:{HH:void 0,mm:void 0}},getEditorClassObject:function(){return{"uc-editor":!this.compact}}},components:{DatePicker:o["a"],TimePicker:s["a"],feedback:l["a"]},methods:{getDate:function(){if(this.definition.value){var e=new Date(this.definition.value);return e instanceof Date&&!isNaN(e)?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()):void 0}},changeTime:function(e){var t=this.getDate()||new Date;if(t){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.data.HH,e.data.mm);this.emitIfChanged(n)}},changeDate:function(e){var t=this.getDate()||new Date;if(t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes());this.emitIfChanged(n)}},emitIfChanged:function(e){var t=this.getDate()||new Date;if(e.getTime()!==t.getTime()){var n=Object(c["a"])(this.name,this.definition.guid,this.definition.label,e,t);this.$emit("change",n)}},dateFormatter:function(e){return Object(a["a"])(e,this.format,a["b"][this.locale])},timeFormatter:function(){return"".concat(this.timeData.HH,":").concat(this.timeData.mm)}}},d=u,f=(n("30be"),n("2877")),h=Object(f["a"])(d,i,r,!1,null,"08cfd81d",null);t["default"]=h.exports},"2cf3":function(e,t,n){},"2f1c":function(e,t,n){},"2f22":function(e,t,n){"use strict";var i=n("80fa"),r=n.n(i);r.a},"30b2":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var i=n("70f2"),r=n.n(i);n.d(t,"a",(function(){return r.a}));var o={en:n("52cf"),da:n("eeea"),sv:n("8718"),de:n("6e0c")}},"30be":function(e,t,n){"use strict";var i=n("db17"),r=n.n(i);r.a},3267:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uc-date-picker uc-editor",class:{compact:e.compact}},[e.compact&&e.definition.value?[n("label",[e._v(e._s(e.formatter(e.definition.value)))])]:e._e(),e.compact?e._e():[e.definition.label?n("label",{staticClass:"input-label",class:{error:e.definition.error}},[e._v(e._s(e.definition.label))]):e._e(),n("div",{staticClass:"input-field-container"},[n("div",{staticClass:"input-field-wrapper"},[n("div",{staticClass:"uc-datepicker"},[e.label?n("label",{staticClass:"input-label"},[e._v(e._s(e.label))]):e._e(),n("date-picker",{staticClass:"date-picker",attrs:{disabled:e.definition.readonly,value:e.definition.value,format:e.formatter,placeholder:e.definition.label,"full-month-name":!0,"calendar-class":"calendar","wrapper-class":"wrapper","input-class":"datepicker-input"},on:{selected:e.selected}})],1)])]),e._l(e.definition.errors,(function(e){return n("feedback",{key:e,attrs:{value:e,type:"error"}})}))]],2)},r=[],o=(n("7f7f"),n("fa33")),s=n("30b2"),a=n("68f1"),c=n("26c7"),l={name:"uc-date-picker",props:{name:String,definition:{type:Object,default:function(){return{}}},compact:{type:Boolean,default:!1},format:{type:String,default:"DD. MMMM YYYY"},locale:{type:String,default:"en-US"},label:String},components:{DatePicker:o["a"],feedback:c["a"]},methods:{selected:function(e){if(this.definition.value!==e){var t=Object(a["a"])(this.name,this.definition.guid,this.definition.label,e,this.definition.value);this.$emit("change",t)}},formatter:function(e){return Object(s["a"])(e,this.format,s["b"][this.locale])}}},u=l,d=(n("e8d0"),n("c659"),n("2877")),f=Object(d["a"])(u,i,r,!1,null,"33aed37a",null);t["default"]=f.exports},"337d":function(e,t,n){"use strict";var i=n("ecea"),r=n.n(i);r.a},"33d2":function(e,t,n){"use strict";var i=n("e205"),r=n.n(i);r.a},3447:function(e,t,n){"use strict";var i=n("614a"),r=n.n(i);r.a},"35b1":function(e,t,n){"use strict";var i=n("74aa"),r=n.n(i);r.a},"37a3":function(e,t,n){"use strict";var i=n("5a18"),r=n.n(i);r.a},"409d":function(e,t,n){},4214:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"}},[n("g",[n("path",{attrs:{d:"M32,18.133V13.867l-4.593-.574a11.652,11.652,0,0,0-1.428-3.442L28.822,6.2,25.805,3.178,22.149,6.021a11.652,11.652,0,0,0-3.442-1.428L18.133,0H13.867l-.574,4.593A11.652,11.652,0,0,0,9.851,6.021L6.2,3.178,3.178,6.2,6.021,9.851a11.652,11.652,0,0,0-1.428,3.442L0,13.867v4.266l4.593.574a11.652,11.652,0,0,0,1.428,3.442L3.178,25.805,6.2,28.822l3.656-2.843a11.652,11.652,0,0,0,3.442,1.428L13.867,32h4.266l.574-4.593a11.652,11.652,0,0,0,3.442-1.428l3.656,2.843,3.017-3.017-2.843-3.656a11.652,11.652,0,0,0,1.428-3.442ZM16,21a5,5,0,1,1,5-5A5,5,0,0,1,16,21Z"}})])])},r=[],o=n("2877"),s={},a=Object(o["a"])(s,i,r,!1,null,null,null);t["a"]=a.exports},"42e1":function(e,t,n){},"43fca":function(e,t,n){"use strict";var i=n("2f1c"),r=n.n(i);r.a},"495e":function(e,t,n){},"4bcf":function(e,t,n){"use strict";var i=n("1999"),r=n.n(i);r.a},"4e0f":function(e,t,n){},"4e42":function(e,t,n){"use strict";var i=n("f68c"),r=n.n(i);r.a},"509e":function(e,t,n){},"525a":function(e,t,n){"use strict";var i=n("88ec"),r=n.n(i);r.a},"567f":function(e,t,n){"use strict";var i=n("9469"),r=n.n(i);r.a},"58d5":function(e,t,n){},"59c8":function(e,t,n){},"5a11":function(e,t,n){"use strict";var i=n("03c5"),r=n.n(i);r.a},"5a18":function(e,t,n){},"5ab8":function(e,t,n){"use strict";var i=n("495e"),r=n.n(i);r.a},"5bc9":function(e,t,n){"use strict";var i=n("0285"),r=n.n(i);r.a},"5ffc":function(e,t,n){"use strict";var i=n("1736"),r=n.n(i);r.a},"614a":function(e,t,n){},"665d":function(e,t,n){},6897:function(e,t,n){"use strict";var i=n("0ae8"),r=n.n(i);r.a},"68f1":function(e,t,n){"use strict";n("8e6e"),n("ac6a"),n("456d");var i=n("bd86");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(n,!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]=function(e,t,n,r,s){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"value",c={undo:Object(i["a"])({},e,Object(i["a"])({guid:t},a,s))},l={meta:{label:n,contentLanguage:void 0,timeStamp:new Date,nodeType:"",nodeGuid:"",undoMessage:void 0,undoAction:void 0}},u={save:Object(i["a"])({},e,Object(i["a"])({guid:t},a,r))};return void 0!==s?o({key:t},u,{},c,{},l):o({key:t},u,{},l)}},6911:function(e,t,n){},"6a8b":function(e,t,n){},"6f4b":function(e,t,n){"use strict";var i=n("218e"),r=n.n(i);r.a},"6f78":function(e,t,n){},7185:function(e,t,n){},7194:function(e,t,n){},"72c9":function(e,t,n){"use strict";var i=n("80a5"),r=n.n(i);r.a},7488:function(e,t,n){},"74aa":function(e,t,n){},"76f9":function(e,t,n){},"7f0b":function(e,t,n){"use strict";var i=n("e5ce"),r=n.n(i);r.a},"80a5":function(e,t,n){},"80fa":function(e,t,n){},8315:function(e,t,n){},8832:function(e,t,n){},"88ec":function(e,t,n){},"8b9c":function(e,t,n){"use strict";var i=n("8315"),r=n.n(i);r.a},"8d7e":function(e,t,n){},"8fe9":function(e,t,n){"use strict";var i=n("ec64"),r=n.n(i);r.a},"905f":function(e,t,n){"use strict";var i=n("0560"),r=n.n(i);r.a},"92c6":function(e,t,n){"use strict";var i=n("0b0f"),r=n.n(i);r.a},9453:function(e,t,n){},9469:function(e,t,n){},"94d6":function(e,t,n){},"992d":function(e,t,n){"use strict";var i=n("2cf3"),r=n.n(i);r.a},"9d1a":function(e,t,n){},"9f6e":function(e,t,n){"use strict";var i=n("09a6"),r=n.n(i);r.a},a4f4:function(e,t,n){"use strict";var i=n("e29a"),r=n.n(i);r.a},a574:function(e,t,n){"use strict";var i=n("58d5"),r=n.n(i);r.a},a72b:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));var i="info",r="warning",o="error"},a946:function(e,t,n){"use strict";var i=n("94d6"),r=n.n(i);r.a},a970:function(e,t,n){"use strict";var i=n("9453"),r=n.n(i);r.a},abe4:function(e,t,n){"use strict";var i=n("110c"),r=n.n(i);r.a},ac36:function(e,t,n){"use strict";var i=n("7185"),r=n.n(i);r.a},ad7e:function(e,t,n){},aea4:function(e,t,n){"use strict";var i=n("6a8b"),r=n.n(i);r.a},b19a:function(e,t,n){"use strict";var i=n("8d7e"),r=n.n(i);r.a},bada:function(e,t,n){"use strict";var i=n("7488"),r=n.n(i);r.a},c025:function(e,t,n){"use strict";var i=n("9d1a"),r=n.n(i);r.a},c659:function(e,t,n){"use strict";var i=n("170a"),r=n.n(i);r.a},c9b2:function(e,t,n){"use strict";var i=n("d20d"),r=n.n(i);r.a},cbf7:function(e,t,n){"use strict";var i=n("0293"),r=n.n(i);r.a},cdba:function(e,t,n){"use strict";var i=n("409d"),r=n.n(i);r.a},cef3:function(e,t,n){"use strict";var i=n("6911"),r=n.n(i);r.a},d1cf:function(e,t,n){"use strict";var i=n("e2c7"),r=n.n(i);r.a},d20d:function(e,t,n){},d502:function(e,t,n){"use strict";var i=n("59c8"),r=n.n(i);r.a},d810:function(e,t,n){"use strict";var i=n("8832"),r=n.n(i);r.a},d955:function(e,t,n){},db17:function(e,t,n){},db9b:function(e,t,n){"use strict";var i=n("d955"),r=n.n(i);r.a},e205:function(e,t,n){},e272:function(e,t,n){},e29a:function(e,t,n){},e2c7:function(e,t,n){},e30d:function(e,t,n){"use strict";var i=n("1411"),r=n.n(i);r.a},e4b9:function(e,t,n){"use strict";var i=n("42e1"),r=n.n(i);r.a},e5ce:function(e,t,n){},e6cb:function(e,t,n){"use strict";var i=n("4e0f"),r=n.n(i);r.a},e8d0:function(e,t,n){"use strict";var i=n("665d"),r=n.n(i);r.a},ec20:function(e,t,n){"use strict";var i=n("fb4f1"),r=n.n(i);r.a},ec64:function(e,t,n){},ecea:function(e,t,n){},ed9b:function(e,t,n){},f09b:function(e,t,n){"use strict";var i=n("6f78"),r=n.n(i);r.a},f0d6:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}},[n("rect",{attrs:{width:"15",height:"15",x:".5",y:".5",fill:"none","fill-rule":"evenodd",stroke:"#E1E1E8",rx:"4"}}),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}},[n("rect",{attrs:{width:"16",height:"16",fill:"#1C254F","fill-rule":"evenodd",rx:"4"}}),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",x:"4",y:"4.5",width:"8",height:"7",viewBox:"0 0 8 7"}},[n("path",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#FFF","stroke-linecap":"round","stroke-linejoin":"round",d:"M.5 3.458L3.499 6 7.5 0"}})])])])},r=[],o=n("2877"),s={},a=Object(o["a"])(s,i,r,!1,null,null,null);t["a"]=a.exports},f1c2:function(e,t,n){},f68c:function(e,t,n){},f69f:function(e,t,n){"use strict";var i=n("f1c2"),r=n.n(i);r.a},f907:function(e,t,n){},fb4f:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i="localStorage",r="Local storage is not available",o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{return n?JSON.parse(window[e].getItem(t)):window[e].getItem(t)}catch(i){return console.error(r,i),!1}},s=function(e,t,n){try{return window[e].setItem(t,n),!0}catch(i){return console.error(r,i),!1}},a=function(e,t){try{return window[e].removeItem(t),!0}catch(n){return console.error(r,n),!1}},c={set:function(e,t){return s(i,e,t)},get:function(e){return o(i,e)},getJSON:function(e){return o(i,e,!0)},remove:function(e){return a(i,e)}}},fb4f1:function(e,t,n){},ff34:function(e,t,n){"use strict";var i=n("7194"),r=n.n(i);r.a}});
//# sourceMappingURL=catalogs.9b438ef5.js.map